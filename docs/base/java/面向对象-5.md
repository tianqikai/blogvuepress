# 5.面向对象

## 5.1 面向过程与面向对象

<font color='red' size='4'><strong>●面向过程（POP）和面向对象（OOP）</strong></font>  
::: warning 二者比较
▶二者都是一种思想，面向对象是相对于面向过程而言的。  
面向过程，强调的是功能行为，以函数为最小单位，考虑怎么做。  
面向对象，将功能封装进对象，强调具备了功能的对象，以类/对象为最小单位，考虑谁来做。   
▶面向对象更加强调运用人类在日常的思维逻辑中采用的思想方法与原则，如抽象、分类、继承、聚合、多态等。
:::
<font color='red' size='4'><strong>●面线对象三大特性</strong></font>  
::: danger 特征
①封装 (Encapsulation)  
②继承 (Inheritance)  
③多态 (Polymorphism)  
:::
<font color='green'>面向对象：Object Oriented Programming </font>   
<font color='green'>面向过程：Procedure Oriented Programming</font> 

**示例：人开车**
::: tip 面向过程
1.打开车门  
2.进入车内  
3.关闭车门  
4.点火启动汽车  
:::
::: tip 面向对象
车：{  
  开门(){},  
  关门(){},  
  启动(){},  
  run(){}  
}  
人：{  
  开车门(车){  
     车.开门(){}  
  }  
  关车门(车){  
    车.关门(){}    
  }  
  启动开车(车){  
    车.启动(){},  
    车.run(){}  
  }  
}  
:::

**示例：人把大象放进冰箱里**

![示例：人把大象放进冰箱里](../image/popandoop.jpg)
----



<font color='green' size='4'><strong>面向对象的思想概述</strong></font> 

★程序员从面向过程的执行者转化成了面向对象的指挥者  
★面向对象分析方法分析问题的思路和步骤：   
▶根据问题需要，选择问题所针对的<font color='red' size='3'><strong>现实世界中的实体</strong></font>     
▶从实体中寻找解决问题相关的属性和功能，这些属性和功能就形成了<font color='red' size='3'><strong>概念世界中的类</strong></font>   
▶把抽象的实体用计算机语言进行描述，形成计算机世界中类的定义。即借助某种程序语言，<font color='red' size='3'><strong>把类构造成计算机能够识别和处理的数据结构</strong></font>   
▶将类实例化成计算机世界中的对象。<font color='red' size='3'><strong>对象是计算机世界中解决问题的最终工具</strong></font>  
## 5.2 Java基本元素：类和对象

### 面向对象的思想概述
※ <font color='red' size='3'><strong>类(Class)</strong></font>和<font color='red' size='3'><strong>对象(Object)</strong></font>是面向对象的核心概念。   
☆ 类是对一类事物的描述，是<font color='red'>抽象的、概念上的定义</font>    
☆ 对象是<font color='red'>实际存在</font>的该类事物的每个个体，因而也称为<font color='red'>实例(instance)</font>。    
※ “万事万物皆对象” 

**示例说明：**
:::tip
类：医生（抽象的一类人）  
对象：张医生（实际存在的一个人）
:::

▶可以理解为：<font color='blue' size='3'><strong>类 = 抽象概念的人；对象 = 实实在在的某个人</strong></font>  
▶ 面向对象程序设计的重点是<font color='red' size='3'><strong>类的设计</strong></font>  
▶ 类的设计，其实就是<font color='red' size='3'><strong>类的成员的设计</strong></font>  
### Java类及类的成员

● 现实世界的生物体，大到鲸鱼，小到蚂蚁，都是由最基本的细胞构成的。同理，Java代码世界是由诸多个不同功能的类构成的。    
● 现实生物世界中的细胞又是由什么构成的呢？细胞核、细胞质、… 那么，Java中用类class来描述事物也是如此。常见的类的成员有：   
▶ 属 性：对应类中的成员变量   
▶ 行 为：对应类中的成员方法   
<font color='blue' size='3'><strong>Field = 属性 = 成员变量，Method = (成员)方法 = 函数</strong></font>  

**示例:**  

----
![Person](../image/person.jpg)
### 类的语法格式
![Class](../image/class.jpg)

## 5.3 对象的创建和使用

● Java类和类的成员变量实例化过程就是创建类的对象  
● 创建对象语法：<font color='blue' size='3'> 类名 对象名 = new 类名();</strong></font>    
● 使用“<font color='blue' size='3'>对象名.对象成员</strong></font> ”的方式访问对象成员（包括属性和方法）  

```java
//创建动物类
public class Animal {
public int legs;
public void eat(){
System.out.println(“Eating.”);
}
public viod move(){
System.out.println(“Move.”);
}}
```
```java
//创建动物园类，创建动物对象，调用动物的方法
public class Zoo{
public static void main(String args[]){
//创建对象
Animal xb=new Animal();
xb.legs=4;//访问属性
System.out.println(xb.legs);
xb.eat();//访问方法
xb.move();//访问方法
} }
```
::: warning 注意 类的访问机制：  
◆在一个类中的访问机制：类中的方法可以直接访问类中的成员变量。 （例外：static方法访问非static，编译不通过。）   
◆在不同类中的访问机制：先创建要访问类的对象，再用对象访问类中定义的成员  
:::
### 对象的产生
### 对象的生命周期
### 内存解析
![RAM](../image/RAM.jpg)
<font color='red' size='3'><strong>堆（Heap)</strong></font> ，此内存区域的<font color='red' size='3'>唯一目的就是存放对象实例</font>，几乎所有的对象实例都在这里分配内存。这一点在Java虚拟机规范中的描述是：<font color='red' size='3'>所有的对象实例以及数组都要在堆上分配</font>。  
<font color='red' size='3'><strong>栈（Stack）</strong></font>，是指虚拟机栈。虚拟机栈用于<font color='red' size='3'>存储局部变量等</font>。局部变量表存放了编译期可知长度的各种基本数据类型（boolean、byte、char、short、int、float、long、double）、对象引用（reference类型，它不等同于对象本身，是对象在堆内存的首地址）。方法执行完，自动释放。  
<font color='red' size='3'><strong>方法区（MethodArea）</strong></font> ，用于存储已被虚拟机加载的<font color='red' size='3'>类信息、常量、静态变量、即时编译器编译后的代码</font>等数据  
### 匿名对象

## 5.4 类的成员之一：属性

### 变量的分类：成员变量与局部变量

<font color='red' size='4'><strong>▶ 在方法体外，类体内声明的变量称为成员变量。</strong></font>   
<font color='red' size='4'><strong>▶ 在方法体内部声明的变量称为局部变量。</strong></font>   
![变量](../image/variable2.jpg)

::: warning  ●注意：二者在初始化值方面的异同:
同: 都有生命周期   
异：局部变量除形参外，需显式初始化（定义变量时，必须赋值处理）。
:::

![fields](../image/fields.jpg)

**示例：**
```java
public class Person{
private int age; //声明private变量 age
public String name = "Lila"; //声明public变量 name
}
```
### 成员变量（属性）和局部变量的区别
![different](../image/different.jpg)
### 成员变量vs局部变量的内存位置
### 对象属性的默认初始化赋值
![init](../image/fieldsInit.jpg)

## 5.5 类的成员之二：方法

## 5.6 OOP特征一：封装与隐藏

## 5.7 类的成员之三：构造器

## 5.8 关键字：this
this是java里面的一个关键字，是一种引用类型，在堆(heap)中的每个java对象上都有一个this指向自己。<font color='red'><strong>this代表着当前对象的引用。</strong></font>  

**this可以做什么？**
:::tip
1.可以区分成员变量和局部变量。  
2.this 可以调用类的属性、方法和构造器
:::

**示例**
```java
class Person{ // 定义Person类
  private String name ;
  private int age ;
  public Person(String name,int age){
    this.name = name ;//区分成员变量和局部变量 
    this.age = age ; 
  }
  public void getInfo(){
    System.out.println("姓名：" + name) ;
    this.speak();//调用方法
  }
  public void speak(){
    System.out.println(“年龄：” + this.age);
  }
}
```
```java
class Person{ // 定义Person类
  private String name ;
  private int age ;
  public Person(){ // 无参构造器
    System.out.println("新对象实例化") ;
  }
  public Person(String name){
    this(); // 调用本类中的无参构造器
    this.name = name ;
  }
  public Person(String name,int age){
    this(name) ; // 调用有一个参数的构造器
    this.age = age;
  }
  public String getInfo(){
    return "姓名：" + name + "，年龄：" + age ;
  } 
}
```
:::danger 注意
1. 在任意方法或构造器内，如果使用当前类的成员变量或成员方法可以在其前面添加this，增强程序的阅读性。不过，通常我们都习惯省略this。  
2. 当形参与成员变量同名时，如果在方法内或构造器内需要使用成员变量，必须添加this来表明该变量是类的成员变量  
3. 使用this访问属性和方法时，如果在本类中未找到，会从父类中查找  
:::
## 5.9 关键字：package、import
### 5.9.1 关键字—package
:::danger  package
package语句作为Java源文件的第一条语句，指明该文件中定义的类所在的包。(若缺省该语句，则指定为无名包)。   
它的格式为：   
package 顶层包名.子包名 ;   
:::

**举例：pack1\pack2\PackageTest.java**
```java
package pack1.pack2; //指定类PackageTest属于包pack1.pack2
public class PackageTest{
public void display(){
System.out.println("in method display()");
} }
```
●包对应于文件系统的目录，package语句中，用 “.” 来指明包(目录)的层次；  
●包通常用小写单词标识。通常使用所在公司域名的倒置：com.atguigu.xxx  

#### 包的作用
● 包帮助管理大型软件系统：将功能相近的类划分到同一个包中。比如：MVC的设计模式  
● 包可以包含类和子包，划分项目层次，便于管理  
● 解决类命名冲突的问题  
● 控制访问权限  

#### MVC设计模式
MVC是常用的设计模式之一，将整个程序分为三个层次：<font color='blue'>视图模型层，控制器层，与
数据模型层</font>。这种将程序输入输出、数据处理，以及数据的展示分离开来的设计模式
使程序结构变的灵活而且清晰，同时也描述了程序各个对象间的通信方式，降低了程
序的耦合性。
<table>
    <tr>
        <th colspan="6">模型层 model 主要处理数据</th>
    </tr>
    <tr>数据对象封装 model.bean/domain</tr>
    <tr>数据库操作类 model.dao</tr>
    <tr>数据库 model.db</tr>
</table>
<table>
    <tr>
        <th colspan="6">控制层 controller 处理业务逻辑</th>
    </tr>
    <tr>应用界面相关 controller.activity</tr>
    <tr>存放fragment controller.fragment</tr>
    <tr>显示列表的适配器 controller.adapter</tr>
    <tr>服务相关的 controller.service</tr>
    <tr>抽取的基类 controller.base</tr>
</table>
<table>
    <tr>
        <th colspan="6">视图层 view 显示数据</th>
    </tr>
    <tr>相关工具类 view.utils</tr>
    <tr>自定义view view.ui</tr>
</table>
![MVC](../image/MVC.jpg)

#### JDK中主要的包介绍

<font color='blue'>1. java.lang</font>----包含一些Java语言的核心类，如String、Math、Integer、 System和Thread，提供常用功能  
<font color='blue'>2. java.net</font>----包含执行与网络相关的操作的类和接口。  
<font color='blue'>3. java.io</font> ----包含能提供多种输入/输出功能的类。  
<font color='blue'>4. java.util</font>----包含一些实用工具类，如定义系统特性、接口的集合框架类、使用与日期日历相关的函数。  
<font color='blue'>5. java.text</font>----包含了一些java格式化相关的类  
<font color='blue'>6. java.sql</font>----包含了java进行JDBC数据库编程的相关类/接口  
<font color='blue'>7. java.awt</font>----包含了构成抽象窗口工具集（abstract window toolkits）的多个类，这些类被用来构建和管理应用程序的图形用户界面(GUI)。 B/S C/S   
### 5.9.2 关键字—import
◆为使用定义在不同包中的Java类，需用import语句来引入指定包层次下所需要的类
或全部类(.*)。<font color='red'>import语句告诉编译器到哪里去寻找类。</font>  

::: tip 语法格式：
import 包名. 类名;
:::

**实例**
```java
import pack1.pack2.Test; //import pack1.pack2.*;表示引入pack1.pack2包中的所有结构
public class PackTest{
public static void main(String args[]){
Test t = new Test(); //Test类在pack1.pack2包中定义
t.display();
} }
```

:::warning  ●注意：
1. 在源文件中使用import显式的导入指定包下的类或接口  
2. 声明在包的声明和类的声明之间。  
3. 如果需要导入多个类或接口，那么就并列显式多个import语句即可  
4. 举例：可以使用java.util.*的方式，一次性导入util包下所有的类或接口。  
5. 如果导入的类或接口是java.lang包下的，或者是当前包下的，则可以省略此import语句。  
6. 如果在代码中使用不同包下的同名的类。那么就需要使用类的全类名的方式指明调用的是哪个类。  
7. 如果已经导入java.a包下的类。那么如果需要使用a包的子包下的类的话，仍然需要导入。  
8. import static组合的使用：调用指定类或接口下的静态的属性或方法  
:::
## 5.10 面向过程与面向对象
