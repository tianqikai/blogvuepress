(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{310:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee3.82fce4d1.jpg"},712:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee0.6fcc919c.jpg"},713:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee1.8f178512.jpg"},714:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee2.40b5471c.jpg"},715:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee4.2a1d8a7e.jpg"},716:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee5.2f7a71a3.jpg"},717:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee6.8e6d1055.jpg"},718:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee7.f478cab0.jpg"},719:function(s,t,e){s.exports=e.p+"assets/img/JenkinsGitee8.6e4c3e74.jpg"},838:function(s,t,e){"use strict";e.r(t);var a=e(26),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_2-jenkins-gitee自动化构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jenkins-gitee自动化构建"}},[s._v("#")]),s._v(" 2. Jenkins+Gitee自动化构建")]),s._v(" "),a("h2",{attrs:{id:"_2-1-安装gitee插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装gitee插件"}},[s._v("#")]),s._v(" 2.1 安装Gitee插件")]),s._v(" "),a("p",[s._v("系统管理->插件管理->可选插件->筛选Gitee->选中直接安装，安装成功之后重启jenkins服务")]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"安装Gitee插件",href:"./image/JenkinsGitee0.jpg"}},[a("img",{attrs:{src:e(712),alt:"安装Gitee插件"}})])]),s._v(" "),a("h2",{attrs:{id:"_2-2-添加gitee-码云-链接配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-添加gitee-码云-链接配置"}},[s._v("#")]),s._v(" 2.2 添加Gitee(码云)链接配置")]),s._v(" "),a("p",[s._v("系统管理->系统配置->Gitee配置")]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"添加Gitee链接配置",href:"./image/JenkinsGitee1.jpg"}},[a("img",{attrs:{src:e(713),alt:"添加Gitee链接配置"}})])]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"创建自由风格的任务",href:"./image/JenkinsGitee2.jpg"}},[a("img",{attrs:{src:e(714),alt:"创建自由风格的任务"}})])]),s._v(" "),a("h2",{attrs:{id:"_2-3-创建一个自由风格的任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-创建一个自由风格的任务"}},[s._v("#")]),s._v(" 2.3 创建一个自由风格的任务")]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"创建自由风格的任务",href:"./image/JenkinsGitee3.jpg"}},[a("img",{attrs:{src:e(310),alt:"创建自由风格的任务"}})])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"_2-3-1-general"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-general"}},[s._v("#")]),s._v(" 2.3.1 General")]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"General",href:"./image/JenkinsGitee4.jpg"}},[a("img",{attrs:{src:e(715),alt:"General"}})])]),s._v(" "),a("h3",{attrs:{id:"_2-3-2-源码管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-源码管理"}},[s._v("#")]),s._v(" 2.3.2 源码管理")]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"源码管理",href:"./image/JenkinsGitee5.jpg"}},[a("img",{attrs:{src:e(716),alt:"源码管理"}})])]),s._v(" "),a("h3",{attrs:{id:"_2-3-3-构建触发器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-构建触发器"}},[s._v("#")]),s._v(" 2.3.3 构建触发器")]),s._v(" "),a("p",[s._v("我们这里采用WebHook触发方式进行构建")]),s._v(" "),a("p",[s._v("因为Gitee经常有代码处理动作，需要配置Gitee项目仓库在处理这些动作时同时会发信号到Jenkins，才能触发Jenkins自动构建。\n打开你想自动构建的项目的GitHub地址，点击setting,进入Webhooks，将Jenkins生成的Hook URL 填入 Payload URL 中，选择自主事件，这样当GitHub收到客户端有push动作时，会触发一个Hook")]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"构建触发器",href:"./image/JenkinsGitee6.jpg"}},[a("img",{attrs:{src:e(717),alt:"构建触发器"}})])]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"构建触发器",href:"./image/JenkinsGitee7.jpg"}},[a("img",{attrs:{src:e(718),alt:"构建触发器"}})])]),s._v(" "),a("h3",{attrs:{id:"_2-3-4-构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-构建"}},[s._v("#")]),s._v(" 2.3.4 构建")]),s._v(" "),a("p",[s._v("我在这里没有在服务端进行项目编译打包，全部是本地编译完成之后，上传服务器。\n如果需要，需要放开npm编译打包命令\n"),a("a",{attrs:{"data-fancybox":"",title:"构建触发器",href:"./image/JenkinsGitee8.jpg"}},[a("img",{attrs:{src:e(719),alt:"构建触发器"}})])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#node -v &&")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#npm install -g cnpm --registry=https://registry.npm.taobao.org &&")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cnpm install &&")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#npm run docs:build")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/lib/jenkins/workspace/vuepressblog_Gitee/docs/.vuepress\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" cvf dist.tar /var/lib/jenkins/workspace/vuepressblog_Gitee/docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" dist.tar /usr/local/nginx/html\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/html\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf dist.tar dist\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf blogvuepress\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rf var/lib/jenkins/workspace/vuepressblog_Gitee/docs/.vuepress/dist  blogvuepress\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);