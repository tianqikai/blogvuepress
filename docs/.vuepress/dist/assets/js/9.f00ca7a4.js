(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1082:function(s,a,t){s.exports=t.p+"assets/img/892532-20180224212352306-705544441.255b790b.png"},1083:function(s,a,t){s.exports=t.p+"assets/img/image-20201119095458328.f3a3e938.png"},1084:function(s,a,t){s.exports=t.p+"assets/img/image-20201118171523403.62a41656.png"},1085:function(s,a,t){s.exports=t.p+"assets/img/image-20201118171956054.9d9e6355.png"},1086:function(s,a){s.exports="data:image/png;base64,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"},1087:function(s,a,t){s.exports=t.p+"assets/img/image-20201118203727585.1286a29a.png"},1088:function(s,a,t){s.exports=t.p+"assets/img/image-20201118205031343.2815e9ad.png"},1089:function(s,a,t){s.exports=t.p+"assets/img/image-20201118205129431.fc8ff4db.png"},1090:function(s,a,t){s.exports=t.p+"assets/img/image-20201118205147631.33067a71.png"},1091:function(s,a,t){s.exports=t.p+"assets/img/weavescope.083ebf63.jpg"},1092:function(s,a,t){s.exports=t.p+"assets/img/image-20201118210755621.49e731a0.png"},1093:function(s,a,t){s.exports=t.p+"assets/img/image-20201118213120916.486b52ec.png"},1094:function(s,a,t){s.exports=t.p+"assets/img/image-20201118213630083.8361df66.png"},1095:function(s,a,t){s.exports=t.p+"assets/img/image-20201118214050899.6677bf27.png"},1096:function(s,a,t){s.exports=t.p+"assets/img/image-20201118214413203.dbe4edde.png"},1097:function(s,a,t){s.exports=t.p+"assets/img/image-20201118214727058.c3e757ee.png"},1592:function(s,a,t){"use strict";t.r(a);var n=t(26),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_12-k8s核心技术helm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-k8s核心技术helm"}},[s._v("#")]),s._v(" 12. K8s核心技术Helm")]),s._v(" "),n("p",[s._v("Helm就是一个包管理工具【类似于npm】")]),s._v(" "),n("p",[n("img",{attrs:{src:t(1082),alt:"img"}})]),s._v(" "),n("h2",{attrs:{id:"_12-1-为什么引入helm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-为什么引入helm"}},[s._v("#")]),s._v(" 12.1 为什么引入Helm")]),s._v(" "),n("p",[s._v("首先在原来项目中都是基于yaml文件来进行部署发布的，而目前项目大部分微服务化或者模块化，会分成很多个组件来部署，每个组件可能对应一个deployment.yaml,一个service.yaml,一个Ingress.yaml还可能存在各种依赖关系，这样一个项目如果有5个组件，很可能就有15个不同的yaml文件，这些yaml分散存放，如果某天进行项目恢复的话，很难知道部署顺序，依赖关系等，而所有这些包括")]),s._v(" "),n("ul",[n("li",[s._v("基于yaml配置的集中存放")]),s._v(" "),n("li",[s._v("基于项目的打包")]),s._v(" "),n("li",[s._v("组件间的依赖")])]),s._v(" "),n("p",[s._v("但是这种方式部署，会有什么问题呢？")]),s._v(" "),n("ul",[n("li",[s._v("如果使用之前部署单一应用，少数服务的应用，比较合适")]),s._v(" "),n("li",[s._v("但如果部署微服务项目，可能有几十个服务，每个服务都有一套yaml文件，需要维护大量的yaml文件，版本管理特别不方便")])]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("Helm的引入，就是为了解决这个问题")]),s._v(" "),n("ul",[n("li",[s._v("使用Helm可以把这些YAML文件作为整体管理")]),s._v(" "),n("li",[s._v("实现YAML文件高效复用")]),s._v(" "),n("li",[s._v("使用helm应用级别的版本管理")])]),s._v(" "),n("h2",{attrs:{id:"_12-2-helm介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-helm介绍"}},[s._v("#")]),s._v(" 12.2 Helm介绍")]),s._v(" "),n("p",[s._v("Helm是一个Kubernetes的包管理工具，就像Linux下的包管理器，如yum/apt等，可以很方便的将之前打包好的yaml文件部署到kubernetes上。")]),s._v(" "),n("p",[s._v("Helm有三个重要概念")]),s._v(" "),n("ul",[n("li",[s._v("helm：一个命令行客户端工具，主要用于Kubernetes应用chart的创建、打包、发布和管理")]),s._v(" "),n("li",[s._v("Chart：应用描述，一系列用于描述k8s资源相关文件的集合")]),s._v(" "),n("li",[s._v("Release：基于Chart的部署实体，一个chart被Helm运行后将会生成对应的release，将在K8S中创建出真实的运行资源对象。也就是应用级别的版本管理")]),s._v(" "),n("li",[s._v("Repository：用于发布和存储Chart的仓库")])]),s._v(" "),n("h2",{attrs:{id:"_12-3-helm组件及架构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-3-helm组件及架构"}},[s._v("#")]),s._v(" 12.3 Helm组件及架构")]),s._v(" "),n("p",[s._v("Helm采用客户端/服务端架构，有如下组件组成")]),s._v(" "),n("ul",[n("li",[s._v("Helm CLI是Helm客户端，可以在本地执行")]),s._v(" "),n("li",[s._v("Tiller是服务器端组件，在Kubernetes集群上运行，并管理Kubernetes应用程序")]),s._v(" "),n("li",[s._v("Repository是Chart仓库，Helm客户端通过HTTP协议来访问仓库中Chart索引文件和压缩包")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1083),alt:"image-20201119095458328"}})]),s._v(" "),n("h2",{attrs:{id:"_12-4-helm-v3变化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-4-helm-v3变化"}},[s._v("#")]),s._v(" 12.4 Helm v3变化")]),s._v(" "),n("p",[s._v("2019年11月13日，Helm团队发布了Helm v3的第一个稳定版本")]),s._v(" "),n("p",[s._v("该版本主要变化如下")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("架构变化")]),s._v(" "),n("ul",[n("li",[s._v("最明显的变化是Tiller的删除")]),s._v(" "),n("li",[s._v("V3版本删除Tiller")]),s._v(" "),n("li",[s._v("relesase可以在不同命名空间重用")])])])]),s._v(" "),n("p",[s._v("V3之前")]),s._v(" "),n("p",[n("img",{attrs:{src:t(1084),alt:"image-20201118171523403"}})]),s._v(" "),n("p",[s._v("V3版本")]),s._v(" "),n("p",[n("img",{attrs:{src:t(1085),alt:"image-20201118171956054"}})]),s._v(" "),n("h2",{attrs:{id:"_12-5-helm配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-5-helm配置"}},[s._v("#")]),s._v(" 12.5 helm配置")]),s._v(" "),n("p",[s._v("首先我们需要去 "),n("a",{attrs:{href:"https://helm.sh/docs/intro/quickstart/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网下载"),n("OutboundLink")],1)]),s._v(" "),n("ul",[n("li",[n("p",[s._v("第一步，"),n("a",{attrs:{href:"https://github.com/helm/helm/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载helm"),n("OutboundLink")],1),s._v("安装压缩文件，上传到linux系统中")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://get.helm.sh/helm-v3.2.4-linux-amd64.tar.gz\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("第二步，解压helm压缩文件，把解压后的helm目录复制到 usr/bin 目录中")])]),s._v(" "),n("li",[n("p",[s._v("使用命令：helm")])])]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载版本注意版本后缀amd还是arm")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf helm-v3.5.3-linux-amd64.tar.gz ")]),s._v("\nlinux-amd64/\nlinux-amd64/helm\nlinux-amd64/LICENSE\nlinux-amd64/README.md\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  mv linux-amd64/helm /usr/bin/helm")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm version")]),s._v("\nversion.BuildInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("Version:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"v3.5.3"')]),s._v(", GitCommit:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"041ce5a2c17a58be0fcd5f5e16fb3e7e95fea622"')]),s._v(", GitTreeState:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dirty"')]),s._v(", GoVersion:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"go1.15.8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("strong",[s._v("我们都知道yum需要配置yum源，那么helm就要配置helm源")])]),s._v(" "),n("h2",{attrs:{id:"_12-6-helm仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-6-helm仓库"}},[s._v("#")]),s._v(" 12.6 helm仓库")]),s._v(" "),n("ul",[n("li",[s._v("添加仓库")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm repo "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" 仓库名  仓库地址 \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("例如")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置微软源")]),s._v("\nhelm repo "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" stable http://mirror.azure.cn/kubernetes/charts\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置阿里源")]),s._v("\nhelm repo "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" aliyun https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置google源")]),s._v("\nhelm repo "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" google https://kubernetes-charts.storage.googleapis.com/\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新")]),s._v("\nhelm repo update\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[s._v("然后可以查看我们添加的仓库地址")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看全部")]),s._v("\nhelm repo list\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看某个")]),s._v("\nhelm search repo stable\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm search repo aliyun")]),s._v("\nNAME                          \tCHART VERSION\tAPP VERSION  \tDESCRIPTION                                       \naliyun/acs-engine-autoscaler  \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),s._v(".3        \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),s._v(".1        \tScales worker nodes within agent pools            \naliyun/aerospike              \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".7        \tv3.14.1.2    \tA Helm chart "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("Aerospike")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" Kubernetes          \naliyun/anchore-engine         \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".3        \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".6        \tAnchore container analysis and policy evaluatio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\naliyun/artifactory            \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.0")]),s._v(".3        \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.8")]),s._v(".4        \tUniversal Repository Manager supporting all maj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\naliyun/artifactory-ha         \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0        \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.8")]),s._v(".4        \tUniversal Repository Manager supporting all maj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[s._v("或者可以删除我们添加的源")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm repo remove stable\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"_12-7-helm基本命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-7-helm基本命令"}},[s._v("#")]),s._v(" 12.7 helm基本命令")]),s._v(" "),n("ul",[n("li",[n("font",{attrs:{color:"red"}},[s._v("chart install")]),s._v(" 安装")],1),s._v(" "),n("li",[n("font",{attrs:{color:"red"}},[s._v("chart upgrade")]),s._v(" 升级")],1),s._v(" "),n("li",[n("font",{attrs:{color:"red"}},[s._v("chart rollback")]),s._v(" 回滚")],1)]),s._v(" "),n("h2",{attrs:{id:"_12-8-使用helm快速部署应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-8-使用helm快速部署应用"}},[s._v("#")]),s._v(" 12.8 使用helm快速部署应用")]),s._v(" "),n("h3",{attrs:{id:"_12-8-1-使用命令搜索应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-8-1-使用命令搜索应用"}},[s._v("#")]),s._v(" 12.8.1 使用命令搜索应用")]),s._v(" "),n("p",[s._v("首先我们使用命令，搜索我们需要安装的应用")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搜索 weave仓库")]),s._v("\nhelm search repo weave\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm search repo weave")]),s._v("\nNAME              \tCHART VERSION\tAPP VERSION\tDESCRIPTION                                       \naliyun/weave-cloud\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".2        \t           \tWeave Cloud is a add-on to Kubernetes "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" pro"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\naliyun/weave-scope\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),s._v(".2        \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.6")]),s._v(".5      \tA Helm chart "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the Weave Scope cluster visual"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:t(1086),alt:"image-20201118200603643"}})]),s._v(" "),n("h3",{attrs:{id:"_12-8-2-根据搜索内容选择安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-8-2-根据搜索内容选择安装"}},[s._v("#")]),s._v(" 12.8.2 根据搜索内容选择安装")]),s._v(" "),n("ul",[n("li",[s._v("搜索完成后，使用命令进行安装")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ui aliyun/weave-scope\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm install ui apphub/weave-scope")]),s._v("\nNAME: ui\nLAST DEPLOYED: Sat Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":51:22 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nNAMESPACE: default\nSTATUS: deployed\nREVISION: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nNOTES:\nYou should now be able to access the Scope frontend "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" your web browser, by\nusing kubectl port-forward:\n\nkubectl -n default port-forward "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl -n default get endpoints "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nui-weave-scope -o "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{.subsets[0].addresses[0].targetRef.name}'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":4040\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" browsing to http://localhost:8080/.\nFor "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" details on using Weave Scope, see the Weave Scope documentation:\n\nhttps://www.weave.works/docs/scope/latest/introducing/\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),s._v(" "),n("ul",[n("li",[s._v("安装完成后，通过下面命令即可查看")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm list\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:t(1087),alt:"image-20201118203727585"}})]),s._v(" "),n("ul",[n("li",[s._v("同时可以通过下面命令，查看更新具体的信息")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm status ui\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("但是我们通过查看 svc状态，发现没有对象暴露端口")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1088),alt:"image-20201118205031343"}})]),s._v(" "),n("ul",[n("li",[s._v("所以我们需要修改service的yaml文件，添加NodePort")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#打开yaml文件进行修改")]),s._v("\nkubectl edit svc ui-weave-scope\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:t(1089),alt:"image-20201118205129431"}})]),s._v(" "),n("ul",[n("li",[s._v("这样就可以对外暴露端口了")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1090),alt:"image-20201118205147631"}})]),s._v(" "),n("ul",[n("li",[s._v("[http://192.168.222.3:30450/]")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1091),alt:"weavescope"}})]),s._v(" "),n("h3",{attrs:{id:"_12-8-3-卸载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-8-3-卸载"}},[s._v("#")]),s._v(" 12.8.3 卸载")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm uninstall  XXX\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("hr"),s._v(" "),n("div",{staticClass:"language-BASH line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster prometheus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm list")]),s._v("\nNAME    \tNAMESPACE\tREVISION\tUPDATED                                \tSTATUS  \tCHART            \tAPP VERSION\ntqk-ui  \tdefault  \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-12-18 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":58:51.634012358 +0800 CST\tdeployed\tweave-scope-1.1.8\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.12")]),s._v(".0     \ntqk001  \tdefault  \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-12-18 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":38:47.65203576 +0800 CST \tdeployed\tmychart-0.1.0    \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.16")]),s._v(".0     \nui      \tdefault  \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-12-18 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":51:22.307924558 +0800 CST\tdeployed\tweave-scope-1.1.8\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.12")]),s._v(".0     \nweb2    \tdefault  \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-12-18 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":07:59.919598183 +0800 CST\tdeployed\tmychart-0.1.0    \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.16")]),s._v(".0     \nweb2-tqk\tdefault  \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-12-18 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":00:04.172652762 +0800 CST\tfailed  \tmychart-0.1.0    \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.16")]),s._v(".0     \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster prometheus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm uninstall tqk-ui")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"_12-9-如何自己创建chart"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-9-如何自己创建chart"}},[s._v("#")]),s._v(" 12.9 如何自己创建Chart")]),s._v(" "),n("ul",[n("li",[s._v("使用命令，自己创建Chart")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm create mychart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("创建完成后，我们就能看到在当前文件夹下，创建了一个 mychart目录")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1092),alt:"image-20201118210755621"}})]),s._v(" "),n("h3",{attrs:{id:"_12-9-1-目录格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-9-1-目录格式"}},[s._v("#")]),s._v(" 12.9.1 目录格式")]),s._v(" "),n("ul",[n("li",[s._v("templates：编写yaml文件存放到这个目录")]),s._v(" "),n("li",[s._v("values.yaml：存放的是全局的yaml文件")]),s._v(" "),n("li",[s._v("chart.yaml：当前chart属性配置信息")])]),s._v(" "),n("h3",{attrs:{id:"_12-9-2-templates文件夹创建两个文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-9-2-templates文件夹创建两个文件"}},[s._v("#")]),s._v(" 12.9.2 templates文件夹创建两个文件")]),s._v(" "),n("p",[s._v("我们创建以下两个")]),s._v(" "),n("ul",[n("li",[s._v("deployment.yaml")]),s._v(" "),n("li",[s._v("service.yaml")])]),s._v(" "),n("p",[s._v("我们可以通过下面命令创建出yaml文件")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" templates/\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导出deployment.yaml")]),s._v("\nkubectl create deployment tqk001 --image"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx --dry-run -o yaml "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" deployment.yaml\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建 tqk001 pod")]),s._v("\nkubectl apply -f deployment.yaml\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导出service.yaml 【可能需要创建 deployment，不然会报错】--对外暴露端口")]),s._v("\nkubectl expose deployment tqk001 --port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" --target-port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" --type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --dry-run -o yaml "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" service.yaml\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"_12-9-3-安装mychart"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-9-3-安装mychart"}},[s._v("#")]),s._v(" 12.9.3 安装mychart")]),s._v(" "),n("p",[s._v("执行命令创建")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" webserver-ng mychart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl delete -f ./mychart/templates/deployment.yaml ")]),s._v("\ndeployment.apps "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tqk001"')]),s._v(" deleted\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm install tqk001 mychart")]),s._v("\nNAME: tqk001\nLAST DEPLOYED: Sat Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":38:47 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nNAMESPACE: default\nSTATUS: deployed\nREVISION: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nNOTES:\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". Get the application URL by running these commands:\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("POD_NAME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl get pods --namespace default -l "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app.kubernetes.io/name=mychart,app.kubernetes.io/instance=tqk001"')]),s._v(" -o "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.items[0].metadata.name}"')]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONTAINER_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl get pod --namespace default $POD_NAME -o "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.spec.containers[0].ports[0].containerPort}"')]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Visit http://127.0.0.1:8080 to use your application"')]),s._v("\n  kubectl --namespace default port-forward "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$POD_NAME")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CONTAINER_PORT")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[n("img",{attrs:{src:t(1093),alt:"image-20201118213120916"}})]),s._v(" "),n("h3",{attrs:{id:"_12-9-4-应用升级"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-9-4-应用升级"}},[s._v("#")]),s._v(" 12.9.4 应用升级")]),s._v(" "),n("p",[s._v("当我们修改了mychart中的东西后，就可以进行升级操作")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm upgrade tqk001 mychart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"_12-10-chart模板使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-10-chart模板使用"}},[s._v("#")]),s._v(" 12.10 chart模板使用")]),s._v(" "),n("p",[s._v("通过传递参数，动态渲染模板，yaml内容动态从传入参数生成")]),s._v(" "),n("p",[n("img",{attrs:{src:t(1094),alt:"image-20201118213630083"}})]),s._v(" "),n("p",[s._v("刚刚我们创建mychart的时候，看到有values.yaml文件，这个文件就是一些全局的变量，然后在templates中能取到变量的值，下面我们可以利用这个，来完成动态模板")]),s._v(" "),n("ul",[n("li",[s._v("在values.yaml定义变量和值")]),s._v(" "),n("li",[s._v("具体yaml文件，获取定义变量值")]),s._v(" "),n("li",[s._v("yaml文件中大体有几个地方不同\n"),n("ul",[n("li",[s._v("image")]),s._v(" "),n("li",[s._v("tag")]),s._v(" "),n("li",[s._v("label")]),s._v(" "),n("li",[s._v("port")]),s._v(" "),n("li",[s._v("replicas")])])])]),s._v(" "),n("h3",{attrs:{id:"_12-10-1-定义变量和值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-10-1-定义变量和值"}},[s._v("#")]),s._v(" 12.10.1 定义变量和值")]),s._v(" "),n("p",[s._v("在values.yaml定义变量和值")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("repository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx16\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tag")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.16")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:t(1095),alt:"image-20201118214050899"}})]),s._v(" "),n("h3",{attrs:{id:"_12-10-2-获取变量和值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-10-2-获取变量和值"}},[s._v("#")]),s._v(" 12.10.2 获取变量和值")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#我们通过表达式形式 使用全局变量  ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.变量名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#例如： ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Release.Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("img",{attrs:{src:t(1096),alt:"image-20201118214413203"}})]),s._v(" "),n("ul",[n("li",[s._v("deployment.yaml")])]),s._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" apps/v1\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deployment\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Release.Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tqk\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("creationTimestamp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token null important"}},[s._v("null")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matchLabels")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("strategy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("creationTimestamp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token null important"}},[s._v("null")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("status")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("hr"),s._v(" "),n("ul",[n("li",[s._v("service.yaml")])]),s._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Release.Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tqk\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("creationTimestamp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token null important"}},[s._v("null")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetPort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(".Values.label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" NodePort\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("status")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("loadBalancer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"_12-10-3-安装应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-10-3-安装应用"}},[s._v("#")]),s._v(" 12.10.3 安装应用")]),s._v(" "),n("p",[s._v("在我们修改完上述的信息后，就可以尝试的创建应用了")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm install  web2 mychart")]),s._v("\nNAME: web2\nLAST DEPLOYED: Sat Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":07:59 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nNAMESPACE: default\nSTATUS: deployed\nREVISION: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nNOTES:\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". Get the application URL by running these commands:\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("POD_NAME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl get pods --namespace default -l "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app.kubernetes.io/name=mychart,app.kubernetes.io/instance=web2"')]),s._v(" -o "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.items[0].metadata.name}"')]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONTAINER_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl get pod --namespace default $POD_NAME -o "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.spec.containers[0].ports[0].containerPort}"')]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Visit http://127.0.0.1:8080 to use your application"')]),s._v("\n  kubectl --namespace default port-forward "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$POD_NAME")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CONTAINER_PORT")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pods")]),s._v("\nNAME                                                READY   STATUS      RESTARTS   AGE\nmypod                                               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     Completed   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          11h\nnginx-f89759699-xffhv                               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          33h\nnginx16-756c7d47b6-m9vp2                            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          24s\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster helm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm install --dry-run web2-tqk mychart")]),s._v("\nNAME: web2-tqk\nLAST DEPLOYED: Sat Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":58:59 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nNAMESPACE: default\nSTATUS: pending-install\nREVISION: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nHOOKS:\n---\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Source: mychart/templates/tests/test-connection.yaml")]),s._v("\napiVersion: v1\nkind: Pod\nmetadata:\n  name: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"web2-tqk-mychart-test-connection"')]),s._v("\n  labels:\n    helm.sh/chart: mychart-0.1.0\n    app.kubernetes.io/name: mychart\n    app.kubernetes.io/instance: web2-tqk\n    app.kubernetes.io/version: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.16.0"')]),s._v("\n    app.kubernetes.io/managed-by: Helm\n  annotations:\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"helm.sh/hook"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\nspec:\n  containers:\n    - name: "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v("\n      image: busybox\n      command: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wget'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      args: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'web2-tqk-mychart:80'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  restartPolicy: Never\nMANIFEST:\n---\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Source: mychart/templates/serviceaccount.yaml")]),s._v("\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: web2-tqk-mychart\n  labels:\n    helm.sh/chart: mychart-0.1.0\n    app.kubernetes.io/name: mychart\n    app.kubernetes.io/instance: web2-tqk\n    app.kubernetes.io/version: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.16.0"')]),s._v("\n    app.kubernetes.io/managed-by: Helm\n---\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Source: mychart/templates/service.yaml")]),s._v("\napiVersion: v1\nkind: Service\nmetadata:\n  name: web2-tqk -tqk \n  creationTimestamp: null\n  labels:\n    app: nginx.1.16\n  name: nginx.1.16\nspec:\n  ports:\n  - port: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n    protocol: TCP\n    targetPort: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" \n  selector:\n    app: nginx.1.16\n  type: NodePort\nstatus:\n  loadBalancer: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n---\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Source: mychart/templates/deployment.yaml")]),s._v("\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web2-tqk-tqk\n  creationTimestamp: null\n  labels:\n    app: nginx.1.16\n  name: nginx.1.16\nspec:\n  replicas: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  selector:\n    matchLabels:\n      app: nginx.1.16\n  strategy: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  template:\n    metadata:\n      creationTimestamp: null\n      labels:\n        app: nginx.1.16\n    spec:\n      containers:\n      - image: nginx\n        name: nginx\n        resources: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nstatus: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nNOTES:\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". Get the application URL by running these commands:\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("POD_NAME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl get pods --namespace default -l "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app.kubernetes.io/name=mychart,app.kubernetes.io/instance=web2-tqk"')]),s._v(" -o "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.items[0].metadata.name}"')]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONTAINER_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl get pod --namespace default $POD_NAME -o "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.spec.containers[0].ports[0].containerPort}"')]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Visit http://127.0.0.1:8080 to use your application"')]),s._v("\n  kubectl --namespace default port-forward "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$POD_NAME")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CONTAINER_PORT")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br")])]),n("div",{staticClass:"language-bah line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("helm install  web2-tqk mychart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:t(1097),alt:"image-20201118214727058"}})]),s._v(" "),n("h2",{attrs:{id:"_12-11-安装问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-11-安装问题"}},[s._v("#")]),s._v(" 12.11 安装问题")]),s._v(" "),n("h3",{attrs:{id:"问题一"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题一"}},[s._v("#")]),s._v(" 问题一")]),s._v(" "),n("ul",[n("li",[s._v("在使用helm安装应用的时候报如下错误：")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8smaster bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# helm install testweave testrepo/weave-scope")]),s._v("\nError: INSTALLATION FAILED: unable to build kubernetes objects from release manifest: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("unable to recognize "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" no matches "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" kind "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DaemonSet"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extensions/v1beta1"')]),s._v(", unable to recognize "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" no matches "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" kind "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Deployment"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"apps/v1beta1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[s._v("更换一个helm源即可：")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("helm repo "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" apphub https://apphub.aliyuncs.com\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);