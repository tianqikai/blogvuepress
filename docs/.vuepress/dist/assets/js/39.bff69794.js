(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1345:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee0.6fcc919c.jpg"},1346:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee1.8f178512.jpg"},1347:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee2.40b5471c.jpg"},1348:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee4.2a1d8a7e.jpg"},1349:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee5.2f7a71a3.jpg"},1350:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee6.8e6d1055.jpg"},1351:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee7.f478cab0.jpg"},1352:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee8.6e4c3e74.jpg"},1661:function(t,s,e){"use strict";e.r(s);var a=e(26),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_2-jenkins-gitee自动化构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jenkins-gitee自动化构建"}},[t._v("#")]),t._v(" 2. Jenkins+Gitee自动化构建")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_2-1-安装gitee插件"}},[t._v("2.1 安装Gitee插件")])]),a("li",[a("a",{attrs:{href:"#_2-2-添加gitee-码云-链接配置"}},[t._v("2.2 添加Gitee(码云)链接配置")])]),a("li",[a("a",{attrs:{href:"#_2-3-创建一个自由风格的任务"}},[t._v("2.3 创建一个自由风格的任务")]),a("ul",[a("li",[a("a",{attrs:{href:"#_2-3-1-general"}},[t._v("2.3.1 General")])]),a("li",[a("a",{attrs:{href:"#_2-3-2-源码管理"}},[t._v("2.3.2 源码管理")])]),a("li",[a("a",{attrs:{href:"#_2-3-3-构建触发器"}},[t._v("2.3.3 构建触发器")])]),a("li",[a("a",{attrs:{href:"#_2-3-4-构建"}},[t._v("2.3.4 构建")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"_2-1-安装gitee插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装gitee插件"}},[t._v("#")]),t._v(" 2.1 安装Gitee插件")]),t._v(" "),a("p",[t._v("系统管理->插件管理->可选插件->筛选Gitee->选中直接安装，安装成功之后重启jenkins服务")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"安装Gitee插件",href:"./image/JenkinsGitee0.jpg"}},[a("img",{attrs:{src:e(1345),alt:"安装Gitee插件"}})])]),t._v(" "),a("h2",{attrs:{id:"_2-2-添加gitee-码云-链接配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-添加gitee-码云-链接配置"}},[t._v("#")]),t._v(" 2.2 添加Gitee(码云)链接配置")]),t._v(" "),a("p",[t._v("系统管理->系统配置->Gitee配置")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"添加Gitee链接配置",href:"./image/JenkinsGitee1.jpg"}},[a("img",{attrs:{src:e(1346),alt:"添加Gitee链接配置"}})])]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"创建自由风格的任务",href:"./image/JenkinsGitee2.jpg"}},[a("img",{attrs:{src:e(1347),alt:"创建自由风格的任务"}})])]),t._v(" "),a("h2",{attrs:{id:"_2-3-创建一个自由风格的任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-创建一个自由风格的任务"}},[t._v("#")]),t._v(" 2.3 创建一个自由风格的任务")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"创建自由风格的任务",href:"./image/JenkinsGitee3.jpg"}},[a("img",{attrs:{src:e(316),alt:"创建自由风格的任务"}})])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"_2-3-1-general"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-general"}},[t._v("#")]),t._v(" 2.3.1 General")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"General",href:"./image/JenkinsGitee4.jpg"}},[a("img",{attrs:{src:e(1348),alt:"General"}})])]),t._v(" "),a("h3",{attrs:{id:"_2-3-2-源码管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-源码管理"}},[t._v("#")]),t._v(" 2.3.2 源码管理")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"源码管理",href:"./image/JenkinsGitee5.jpg"}},[a("img",{attrs:{src:e(1349),alt:"源码管理"}})])]),t._v(" "),a("h3",{attrs:{id:"_2-3-3-构建触发器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-构建触发器"}},[t._v("#")]),t._v(" 2.3.3 构建触发器")]),t._v(" "),a("p",[t._v("我们这里采用WebHook触发方式进行构建")]),t._v(" "),a("p",[t._v("因为Gitee经常有代码处理动作，需要配置Gitee项目仓库在处理这些动作时同时会发信号到Jenkins，才能触发Jenkins自动构建。\n打开你想自动构建的项目的GitHub地址，点击setting,进入Webhooks，将Jenkins生成的Hook URL 填入 Payload URL 中，选择自主事件，这样当GitHub收到客户端有push动作时，会触发一个Hook")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"构建触发器",href:"./image/JenkinsGitee6.jpg"}},[a("img",{attrs:{src:e(1350),alt:"构建触发器"}})])]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"构建触发器",href:"./image/JenkinsGitee7.jpg"}},[a("img",{attrs:{src:e(1351),alt:"构建触发器"}})])]),t._v(" "),a("h3",{attrs:{id:"_2-3-4-构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-构建"}},[t._v("#")]),t._v(" 2.3.4 构建")]),t._v(" "),a("p",[t._v("我在这里没有在服务端进行项目编译打包，全部是本地编译完成之后，上传服务器。\n如果需要，需要放开npm编译打包命令\n"),a("a",{attrs:{"data-fancybox":"",title:"构建触发器",href:"./image/JenkinsGitee8.jpg"}},[a("img",{attrs:{src:e(1352),alt:"构建触发器"}})])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#node -v &&")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#npm install -g cnpm --registry=https://registry.npm.taobao.org &&")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#cnpm install &&")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#npm run docs:build")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /var/lib/jenkins/workspace/vuepressblog_Gitee/docs/.vuepress\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" cvf dist.tar /var/lib/jenkins/workspace/vuepressblog_Gitee/docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" dist.tar /usr/local/nginx/html\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /usr/local/nginx/html\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xvf dist.tar dist\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf blogvuepress\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -rf var/lib/jenkins/workspace/vuepressblog_Gitee/docs/.vuepress/dist  blogvuepress\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports},316:function(t,s,e){t.exports=e.p+"assets/img/JenkinsGitee3.82fce4d1.jpg"}}]);