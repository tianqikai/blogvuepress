(window.webpackJsonp=window.webpackJsonp||[]).push([[191],{1348:function(s,a,t){s.exports=t.p+"assets/img/zookeeper10.a59eede2.jpg"},1642:function(s,a,t){"use strict";t.r(a);var n=t(26),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_3-zk客户端操作命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-zk客户端操作命令"}},[s._v("#")]),s._v(" 3. ZK客户端操作命令")]),s._v(" "),n("p",[n("a",{attrs:{"data-fancybox":"",title:"客户端命令行操作",href:"./image/zookeeper10.jpg"}},[n("img",{attrs:{src:t(1348),alt:"客户端命令行操作"}})])]),s._v(" "),n("h2",{attrs:{id:"_3-1-连接客户端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-连接客户端"}},[s._v("#")]),s._v(" 3.1 连接客户端")]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("zk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("zk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("zkCli"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"_3-2-显示所有操作命令-help"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-显示所有操作命令-help"}},[s._v("#")]),s._v(" 3.2 显示所有操作命令--help")]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("] help\nZooKeeper "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server host"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("port cmd args\n\tstat path [watch]\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" path data [version]\n\tls path [watch]\n\tdelquota ["),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n|"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b] path\n\tls2 path [watch]\n\tsetAcl path acl\n\tsetquota "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n|"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b val path\n\thistory \n\tredo cmdno\n\tprintwatches "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v("|off\n\tdelete path [version]\n\tsync path\n\tlistquota path\n\trmr path\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" path [watch]\n\tcreate ["),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s] ["),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e] path data acl\n\taddauth scheme auth\n\tquit \n\tgetAcl path\n\tclose \n\tconnect host"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("port\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h2",{attrs:{id:"_3-3-创建zookeeper-节点命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-创建zookeeper-节点命令"}},[s._v("#")]),s._v(" 3.3 创建zookeeper 节点命令")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v(" create "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" ‐s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" ‐e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" ‐c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" ‐t ttl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("acl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#中括号为可选项， 没有则默认创建持久化节点")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("hr"),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("参数说明")]),s._v(" "),n("ol",[n("li",[s._v("-s: 顺序节点")]),s._v(" "),n("li",[s._v("-e: 临时节点")]),s._v(" "),n("li",[s._v("-c: 容器节点")]),s._v(" "),n("li",[s._v("-t:  可以给节点添加过期时间， 默认禁用， 需要通过系统参数启用")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('（-Dzookeeper.extendedTypesEnabled =true,  znode.container.checkIntervalMs : (Java system\nproperty only) New in 3.5.1: The time interval in milliseconds for each check of candidate\ncontainer and ttl nodes. Default is "60000".)\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("h3",{attrs:{id:"_3-3-1-创建节点-create-节点名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-创建节点-create-节点名"}},[s._v("#")]),s._v(" 3.3.1 创建节点  --create /节点名")]),s._v(" "),n("p",[n("strong",[s._v("没有加任何可选参数， 创建的就是持久化节点")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("] create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wuguo"')]),s._v("\nCreated "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo\n[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("] create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("shuguo  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"诸葛亮"')]),s._v("\nCreated "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("shuguo\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_3-3-2-创建短暂节点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-创建短暂节点"}},[s._v("#")]),s._v(" 3.3.2 创建短暂节点")]),s._v(" "),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v("create 后跟一个 -e 创建临时节点 ， 临时节点不能创建子节点")])])],1),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("] create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"周瑜"')]),s._v("\nCreated "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",[n("li",[s._v("在当前客户端是能查看到的")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo\n周瑜\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("退出当前客户端然后再重启客户端")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("quit\nsh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("zk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("zk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("zkCli"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("再次查看根目录下短暂节点已经删除")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo \nNode does "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" exist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-3-3-创建带序号的节点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-创建带序号的节点"}},[s._v("#")]),s._v(" 3.3.3 创建带序号的节点")]),s._v(" "),n("h4",{attrs:{id:"先创建一个普通的根节点-sanguo-weiguo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#先创建一个普通的根节点-sanguo-weiguo"}},[s._v("#")]),s._v(" 先创建一个普通的根节点/sanguo/weiguo")]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"曹操"')]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"创建带序号的节点-create-s-xxx-xxx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建带序号的节点-create-s-xxx-xxx"}},[s._v("#")]),s._v(' 创建带序号的节点 -- create -s XXX "XXX"')]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("] create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"许诸"')]),s._v("\nCreated "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo0000000004\n[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("] create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"许诸"')]),s._v("\nCreated "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo0000000005\n[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("] create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"许诸"')]),s._v("\nCreated "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo0000000006\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("如果原来没有序号节点，序号从0开始依次递增。如果原节点下已有2个节点，则再排序时从2开始，以此类推。")]),s._v(" "),n("h2",{attrs:{id:"_3-3-4-创建容器节点-移除了"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-创建容器节点-移除了"}},[s._v("#")]),s._v(" 3.3.4 创建容器节点(移除了)")]),s._v(" "),n("p",[s._v("容器节点主要用来容纳字节点， 如果没有给其创建子节点， 容器节点表现和持久化节点一样， 如果给容器节点创建了子节点，后续又把子节点清空， 容器节点也会被zookeeper删除。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("create ‐c /container\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"_3-4-查看子节点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-查看子节点"}},[s._v("#")]),s._v(" 3.4 查看子节点")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zookeeper, tqk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看当前节点详细数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" ls2 /\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zookeeper, tqk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x0\nctime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Thu Jan 01 08:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1970")]),s._v("\nmZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x0\nmtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Thu Jan 01 08:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1970")]),s._v("\npZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x100000002\ncversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndataVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x0\ndataLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnumChildren "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"_3-5-获得节点的值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-获得节点的值"}},[s._v("#")]),s._v(" 3.5 获得节点的值")]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("shuguo\n诸葛亮\ncZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000006\nctime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun May "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nmZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000006\nmtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun May "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\npZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000006\ncversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndataVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x0\ndataLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nnumChildren "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h2",{attrs:{id:"_3-6-修改节点数据值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-修改节点数据值"}},[s._v("#")]),s._v(" 3.6 修改节点数据值")]),s._v(" "),n("p",[n("strong",[s._v('set -s XXX "XXX"')])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo0000000005  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"司马懿"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"_3-7-事件监听机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-事件监听机制"}},[s._v("#")]),s._v(" 3.7 事件监听机制")]),s._v(" "),n("h3",{attrs:{id:"_3-7-1-节点的监听"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-1-节点的监听"}},[s._v("#")]),s._v(" 3.7.1 节点的监听")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.5.x版本")]),s._v("\nget ‐w /path "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注册监听的同时获取数据 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stat")]),s._v(" ‐w /path "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#对节点进行监听，且获取元数据信息")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.6.x版本 ")]),s._v("\nget /path "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注册监听的同时获取数据 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stat")]),s._v(" /path "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对节点进行监听，且获取元数据信息")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v(" 针对节点的监听：  一定事件触发， 对应的注册立刻被移除， 所以事件监听是一次性的")])])],1),s._v(" "),n("ol",[n("li",[s._v("在[127.0.0.1:2182]主机上注册监听/tqk/tqk节点数据变化")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2182")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk watch\ntianqikai\ncZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\nctime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nmZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\nmtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\npZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\ncversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndataVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x0\ndataLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nnumChildren "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("在[127.0.0.1:2183]主机上修改/tqk/tqk节点的数据")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2183")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk watch \ntianqikai\ncZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\nctime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nmZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\nmtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\npZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\ncversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndataVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x0\ndataLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nnumChildren "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2183")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk tqk\n\nWATCHER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\nWatchedEvent state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("SyncConnected "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("NodeDataChanged path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk\ncZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\nctime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nmZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000046\nmtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\npZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\ncversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndataVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\naclVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x0\ndataLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nnumChildren "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("观察[127.0.0.1:2182]主机收到数据变化的监听")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2182")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk watch\ntianqikai\ncZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\nctime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nmZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\nmtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Wed Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\npZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000045\ncversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndataVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x0\ndataLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nnumChildren "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2182")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("] \nWATCHER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\nWatchedEvent state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("SyncConnected "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("NodeDataChanged path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tqk\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"_3-7-2-路径监听"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-2-路径监听"}},[s._v("#")]),s._v(" 3.7.2 路径监听")]),s._v(" "),n("p",[n("strong",[s._v("针对递归子目录的监听")])]),s._v(" "),n("ol",[n("li",[s._v("在hadoop104主机上注册监听/sanguo节点的子节点变化")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("    ls "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo watch\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("在hadoop103主机/sanguo节点上创建子节点")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2182")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("] create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"孙权"')]),s._v("\nCreated "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo0000000007\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("观察hadoop104主机收到子节点变化的监听")])]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("WATCHER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\nWatchedEvent state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("SyncConnected "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("NodeChildrenChanged path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo\n[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("] "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wuguo0000000007\n孙权\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h2",{attrs:{id:"_3-8-删除节点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-删除节点"}},[s._v("#")]),s._v(" 3.8 删除节点")]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("delete "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weiguo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"递归删除节点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#递归删除节点"}},[s._v("#")]),s._v(" 递归删除节点")]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v(" rmr "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("shuguo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"_3-9-查看节点状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-查看节点状态"}},[s._v("#")]),s._v(" 3.9 查看节点状态")]),s._v(" "),n("div",{staticClass:"language-vb line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-vb"}},[n("code",[s._v("[zk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("] stat "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sanguo       \ncZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000005\nctime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun May "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nmZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000005\nmtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun May "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\npZxid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x100000017\ncversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\ndataVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x0\ndataLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\nnumChildren "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("Stat参数")]),s._v(" "),n("ol",[n("li",[s._v("cZxid：  创建znode的事务ID（Zxid的值）")]),s._v(" "),n("li",[s._v("mZxid：  最后修改znode的事务ID。")]),s._v(" "),n("li",[s._v("pZxid：  最后添加或删除子节点的事务ID（子节点列表发生变化才会发生改变")]),s._v(" "),n("li",[s._v("ctime：  znode创建时间。")]),s._v(" "),n("li",[s._v("mtime：  znode最近修改时间。")]),s._v(" "),n("li",[s._v("dataVersion：  znode的当前数据版本。")]),s._v(" "),n("li",[s._v("cversion：  znode的子节点结果集版本（一个节点的子节点增加、  删除都会影响这个版本")]),s._v(" "),n("li",[s._v("aclVersion：  表示对此znode的acl版本。")]),s._v(" "),n("li",[s._v("ephemeralOwner：  znode是临时znode时， 表示znode所有者的 session ID。   如果znode不是临时znode， 则该字段设置为零。")]),s._v(" "),n("li",[s._v("dataLength：  znode数据字段的长度")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);