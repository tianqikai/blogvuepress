(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{696:function(s,a,t){s.exports=t.p+"assets/img/docker02.024c9150.jpg"},697:function(s,a,t){s.exports=t.p+"assets/img/Snipaste_2020-10-03_11-09-33.6b910102.png"},860:function(s,a,t){"use strict";t.r(a);var e=t(26),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"_3-docker常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-docker常用命令"}},[s._v("#")]),s._v(" 3. Docker常用命令")]),s._v(" "),e("p",[e("a",{attrs:{"data-fancybox":"",title:"Docker常用命令",href:"./image/docker02.jpg"}},[e("img",{attrs:{src:t(696),alt:"Docker常用命令"}})])]),s._v(" "),e("h2",{attrs:{id:"_3-1-docker的启动与停止"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-docker的启动与停止"}},[s._v("#")]),s._v(" 3.1 Docker的启动与停止")]),s._v(" "),e("h2",{attrs:{id:"_3-1-1-启动docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-启动docker"}},[s._v("#")]),s._v(" 3.1.1 启动docker")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动docker：")]),s._v("\nsystemctl start docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-1-2-停止docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-停止docker"}},[s._v("#")]),s._v(" 3.1.2 停止docker")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止docker")]),s._v("\nsystemctl stop docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-1-3-重启docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-重启docker"}},[s._v("#")]),s._v(" 3.1.3 重启docker")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启docker")]),s._v("\nsystemctl restart docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-1-4-查看docker状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-4-查看docker状态"}},[s._v("#")]),s._v(" 3.1.4 查看docker状态")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看docker状态")]),s._v("\nsystemctl status docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-1-5-开机启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-5-开机启动"}},[s._v("#")]),s._v(" 3.1.5 开机启动")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开机启动")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-1-6-查看docker概要信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-6-查看docker概要信息"}},[s._v("#")]),s._v(" 3.1.6 查看docker概要信息")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看docker概要信息")]),s._v("\ndocker info\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-1-7-查看docker帮助文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-7-查看docker帮助文档"}},[s._v("#")]),s._v(" 3.1.7 查看docker帮助文档")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看docker帮助文档")]),s._v("\ndocker --help\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-2-镜像命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-镜像命令"}},[s._v("#")]),s._v(" 3.2 镜像命令")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker pull nginx  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载最新版")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像名:版本名（标签）")]),s._v("\n\ndocker pull nginx:1.20.1\n\n\ndocker pull redis  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载最新")]),s._v("\ndocker pull redis:6.2.4\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 下载来的镜像都在本地")]),s._v("\ndocker images  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有镜像")]),s._v("\n\nredis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" redis:latest\n\ndocker rmi 镜像名:版本号/镜像id\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h3",{attrs:{id:"_3-2-1-查看镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-查看镜像"}},[s._v("#")]),s._v(" 3.2.1 查看镜像")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@TXYUN-NO2 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY    TAG       IMAGE ID       CREATED      SIZE\nhello-world   latest    feb5d9fea6a5   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" days ago   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(".3kB\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("参数说明")]),s._v(" "),e("ol",[e("li",[s._v("REPOSITORY ：镜像名称")]),s._v(" "),e("li",[s._v("TAG ：镜像标签")]),s._v(" "),e("li",[s._v("IMAGE ID ：镜像ID")]),s._v(" "),e("li",[s._v("CREATED ：镜像的创建日期（不是获取该镜像的日期）")]),s._v(" "),e("li",[s._v("SIZE ：镜像大小"),e("br"),s._v("\n这些镜像都是存储在Docker宿主机的 /var/lib/docker 目录下")])])]),s._v(" "),e("hr"),s._v(" "),e("p",[e("a",{attrs:{"data-fancybox":"",title:"镜像命令说明",href:"./image/Snipaste_2020-10-03_11-09-33.png"}},[e("img",{attrs:{src:t(697),alt:"镜像命令说明"}})])]),s._v(" "),e("h4",{attrs:{id:"options-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options-说明"}},[s._v("#")]),s._v(" OPTIONS 说明：")]),s._v(" "),e("div",{staticClass:"language-dockerfile line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a 列出本地所有的镜像(含中间映射层)\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("q 只显示镜像ID\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("digests 显示镜像的摘要信息\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("no"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("trunc 显示完整的镜像信息\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"_3-2-2-搜索镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-搜索镜像"}},[s._v("#")]),s._v(" 3.2.2 搜索镜像")]),s._v(" "),e("p",[e("a",{attrs:{"data-fancybox":"",title:"dockerhub",href:"www.dockerhub.com"}},[s._v("![dockerhub]​网站 www.dockerhub.com 可查看镜像版本")])]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("\t​docker search "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 镜像名字\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"options-说明-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options-说明-2"}},[s._v("#")]),s._v(" OPTIONS 说明")]),s._v(" "),e("div",{staticClass:"language-dockerfile line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[e("code",[s._v("\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("no"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("trun 显示完整的镜像描述\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("s 列出收藏数不小于指定值的镜像\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("automated 只列出 automated build类型的镜像\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("hr"),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@TXYUN-NO2 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker search mysql")]),s._v("\n\tNAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\n\tmysql                             MySQL is a widely used, open-source relation…   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11490")]),s._v("     "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("参数说明")]),s._v(" "),e("p",[s._v("NAME ：仓库名称"),e("br"),s._v("\nDESCRIPTION ：镜像描述"),e("br"),s._v("\nSTARS ：用户评价，反应一个镜像的受欢迎程度"),e("br"),s._v("\nOFFICIAL ：是否官方"),e("br"),s._v("\nAUTOMATED ：自动构建，表示该镜像由Docker Hub自动构建流程创建的")])]),s._v(" "),e("h3",{attrs:{id:"_3-2-3-​下载镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-​下载镜像"}},[s._v("#")]),s._v(" 3.2.3 ​下载镜像")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("​\tdocker pull 镜像名字"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":TAG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-2-4-删除镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-4-删除镜像"}},[s._v("#")]),s._v(" 3.2.4 删除镜像")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("\n​"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除单个 镜像名:版本号/镜像id")]),s._v("\ndocker rmi 镜像名:版本号/镜像id\n\n​"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除多个 ")]),s._v("\ndocker rmi 镜像名1:TAG 镜像名2:TAG\n\n​"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除所有镜像")]),s._v("\ndocker rmi "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${docker images -qa}")]),s._v("\ndocker rmi "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("docker images -q"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h2",{attrs:{id:"_3-3-容器命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-容器命令"}},[s._v("#")]),s._v(" 3.3 容器命令")]),s._v(" "),e("h3",{attrs:{id:"_3-3-1-查看容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-查看容器"}},[s._v("#")]),s._v(" 3.3.1 查看容器")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看正在运行的容器")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有容器")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" –a\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看最后一次运行的容器")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" –l\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看停止的容器")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -f "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker container  ls")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker container -a")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h3",{attrs:{id:"_3-3-2-启动容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-启动容器"}},[s._v("#")]),s._v(" 3.3.2 启动容器")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker start 容器id/名字\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d：后台运行")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --restart=always: 开机自启")]),s._v("\ndocker run --name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mynginx   -d  --restart"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -p  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":80   nginx\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#应用开机自启")]),s._v("\ndocker update 容器id/名字 --restart"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("hr"),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("参数说明")]),s._v(" "),e("p",[s._v("-i ：表示运行容器")]),s._v(" "),e("p",[s._v("-t ：表示容器启动后会进入其命令行。加入这两个参数后，容器创建就能登录进去。即分配一个伪终端。")]),s._v(" "),e("p",[s._v("--name :为创建的容器命名。")]),s._v(" "),e("p",[s._v("-v ：表示目录映射关系（前者是宿主机目录，后者是映射到宿主机上的目录），可以使用多个-v 做多个目录或文件\n映射。注意：最好做目录映射，在宿主机上做修改，然后共享到容器上。")]),s._v(" "),e("p",[s._v("-d ：在run后面加上-d参数,则会创建一个守护式容器在后台运行（这样创建容器后不会自动登录容器，如果只加-i -t\n两个参数，创建后就会自动进去容器）。")]),s._v(" "),e("p",[s._v("-p ：表示端口映射，前者是宿主机端口，后者是容器内的映射端口。可以使用多个-p做多个端口映射")])]),s._v(" "),e("h3",{attrs:{id:"_3-3-3-停止docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-停止docker"}},[s._v("#")]),s._v(" 3.3.3 停止docker")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker stop 容器id/名字\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-3-4-进入docker容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-进入docker容器"}},[s._v("#")]),s._v(" 3.3.4 进入docker容器")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器内部的系统，修改容器内容")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器id  /bin/bash\n\ndocker "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it mysql_mysql_1 /bin/bash\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"_3-3-5-终止容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-5-终止容器"}},[s._v("#")]),s._v(" 3.3.5 终止容器")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("使用docker stop "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CONTAINER_ID")]),s._v("来终止一个运行中的容器。并且可以使用\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a来看终止状态的容器\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"_3-3-6-删除容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-6-删除容器"}},[s._v("#")]),s._v(" 3.3.6 删除容器")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器id/名字\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-3-7-文件拷贝"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-7-文件拷贝"}},[s._v("#")]),s._v(" 3.3.7 文件拷贝")]),s._v(" "),e("p",[s._v("如果我们需要将文件拷贝到容器内可以使用cp命令"),e("br"),s._v(" "),e("strong",[s._v("docker cp 需要拷贝的文件或目录 容器名称:容器目录")])]),s._v(" "),e("p",[s._v("也可以将文件从容器内拷贝出来"),e("br"),s._v(" "),e("strong",[s._v("docker cp 容器名称:容器目录 需要拷贝的文件或目录")])]),s._v(" "),e("h3",{attrs:{id:"_3-3-8-目录挂载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-8-目录挂载"}},[s._v("#")]),s._v(" 3.3.8 目录挂载")]),s._v(" "),e("p",[s._v("我们可以在创建容器的时候，将宿主机的目录与容器内的目录进行映射，这样我们就可以通过修改宿主机某个目录的\n文件从而去影响容器。\n创建容器 添加 -v 参数后边为宿主机目录:容器目录，例如：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker run -di -v /usr/local/myhtml:/usr/local/myhtml --name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mycentos3 centos:7\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("如果你共享的是多级的目录，可能会出现权限不足的提示。"),e("br"),s._v("\n这是因为CentOS7中的安全模块selinux把权限禁掉了，我们需要添加参数 "),e("strong",[s._v("--privileged=true")]),s._v(" 来解决挂载的目录没\n有权限的问题")]),s._v(" "),e("h3",{attrs:{id:"_3-3-9-查看容器ip地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-9-查看容器ip地址"}},[s._v("#")]),s._v(" 3.3.9 查看容器IP地址")]),s._v(" "),e("p",[s._v("我们可以通过以下命令查看容器运行的各种数据")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker inspect 容器名称（容器ID）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("也可以直接执行下面的命令直接输出IP地址")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker inspect --format"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{{.NetworkSettings.IPAddress}}'")]),s._v(" 容器名称（容器ID）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);