(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{1513:function(t,s,a){"use strict";a.r(s);var n=a(26),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_1-zuul网关入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-zuul网关入门"}},[t._v("#")]),t._v(" 1. Zuul网关入门")]),t._v(" "),a("h2",{attrs:{id:"_1-1-什么是-zuul"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-什么是-zuul"}},[t._v("#")]),t._v(" 1.1 什么是 Zuul")]),t._v(" "),a("p",[t._v("Zuul 是从设备和网站到应用程序后端的所有请求的前门。作为边缘服务应用程序，"),a("strong",[t._v("Zuul 旨在实现动态路由，监视，弹性和安全性")]),t._v("。Zuul 包含了对请求的"),a("font",{attrs:{color:"red"}},[a("strong",[t._v("路由和过滤")]),t._v("两个最主要的功能。")])],1),t._v(" "),a("p",[t._v("Zuul 是 Netflix 开源的微服务网关，它可以和 Eureka、Ribbon、Hystrix 等组件配合使用。Zuul 的核心是一系\n列的过滤器，这些过滤器可以完成以下功能：")]),t._v(" "),a("ol",[a("li",[a("font",{attrs:{color:"red"}},[a("strong",[t._v("身份认证与安全")]),t._v("：识别每个资源的验证要求，并拒绝那些与要求不符的请求")])],1),t._v(" "),a("li",[a("font",{attrs:{color:"red"}},[a("strong",[t._v("审查与监控")]),t._v("：在边缘位置追踪有意义的数据和统计结果，从而带来精确的生产试图")])],1),t._v(" "),a("li",[a("font",{attrs:{color:"red"}},[a("strong",[t._v("动态路由")]),t._v("：动态地将请求路由到不同的后端集群")])],1),t._v(" "),a("li",[a("font",{attrs:{color:"red"}},[a("strong",[t._v("压力测试")]),t._v("：逐渐增加只想集群的流量，以了解性能")])],1),t._v(" "),a("li",[a("font",{attrs:{color:"red"}},[a("strong",[t._v("负载分配")]),t._v("：为每一种负载类型分配对应容量，并弃用超出限定值的请求")])],1),t._v(" "),a("li",[a("font",{attrs:{color:"red"}},[a("strong",[t._v("静态响应处理")]),t._v("：在边缘位置直接建立部份响应，从而避免其转发到内部集群\\")])],1),t._v(" "),a("li",[a("font",{attrs:{color:"red"}},[a("strong",[t._v("多区域弹性")]),t._v("：跨越AWS Region进行请求路由，旨在实现ELB（Elastic Load Balancing）使用的多样化，以及让系统的边缘更贴近系统的使用者")])],1)]),t._v(" "),a("h2",{attrs:{id:"_1-2-zuul入门案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-zuul入门案例"}},[t._v("#")]),t._v(" 1.2 Zuul入门案例")]),t._v(" "),a("h3",{attrs:{id:"_1-2-1-环境准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-环境准备"}},[t._v("#")]),t._v(" 1.2.1 环境准备")]),t._v(" "),a("ol",[a("li",[t._v("Eureka-ClusterServer01 ：注册中心")]),t._v(" "),a("li",[t._v("Eureka-ClusterServer02 ：注册中心")]),t._v(" "),a("li",[t._v("Service-Consumer ：服务消费者")]),t._v(" "),a("li",[t._v("Service-Consumer-Feign ：服务消费者")]),t._v(" "),a("li",[t._v("Service-Provider01：服务提供者")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-2-添加依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-添加依赖"}},[t._v("#")]),t._v(" 1.2.2 添加依赖")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- spring cloud netflix zuul 依赖 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.cloud"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-cloud-starter-netflix-zuul"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"_1-2-3-启动类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-启动类"}},[t._v("#")]),t._v(" 1.2.3 启动类")]),t._v(" "),a("p",[t._v("启动类需要开启 @EnableZuulProxy 注解。")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @author tianqikai\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SpringBootApplication")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//todo 开启 Zuul 注解")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableZuulProxy")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConsumerApplication")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConsumerApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);