(window.webpackJsonp=window.webpackJsonp||[]).push([[252],{1542:function(s,e,a){"use strict";a.r(e);var n=a(26),r=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_6-docker安装redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-docker安装redis"}},[s._v("#")]),s._v(" 6 Docker安装Redis")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_6-1-docker拉取redis镜像"}},[s._v("6.1 Docker拉取redis镜像")])]),a("li",[a("a",{attrs:{href:"#_6-2-docker启动redis"}},[s._v("6.2 docker启动redis")])]),a("li",[a("a",{attrs:{href:"#_6-3-重启生效"}},[s._v("6.3 重启生效")])]),a("li",[a("a",{attrs:{href:"#_6-4-现有的redis创建密码或修改密码的方法"}},[s._v("6.4 现有的redis创建密码或修改密码的方法")])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"_6-1-docker拉取redis镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-docker拉取redis镜像"}},[s._v("#")]),s._v(" 6.1 Docker拉取redis镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker pull redis\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6-2-docker启动redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-docker启动redis"}},[s._v("#")]),s._v(" 6.2 docker启动redis")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建redis配置文件目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /mydata/redis/conf\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /mydata/redis/conf/redis.conf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动redis容器")]),s._v("\n\ndocker run -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6400")]),s._v(":6379 --name redis "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /mydata/redis/data:/data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d redis redis-server /etc/redis/redis.conf\n--requirepass "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12345")]),s._v("@tqk\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置redis持久化")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appendonly yes"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /mydata/redis/conf/redis.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"_6-3-重启生效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-重启生效"}},[s._v("#")]),s._v(" 6.3 重启生效")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启redis")]),s._v("\ndocker restart redis\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# redis容器随docker启动自动运行")]),s._v("\ndocker update redis --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"_6-4-现有的redis创建密码或修改密码的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-现有的redis创建密码或修改密码的方法"}},[s._v("#")]),s._v(" 6.4 现有的redis创建密码或修改密码的方法")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.进入redis的容器 ")]),s._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器ID "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.进入redis目录 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/bin \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.运行命令：")]),s._v("\nredis-cli\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4.查看现有的redis密码：")]),s._v("\nconfig get requirepass\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5.设置redis密码config ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" requirepass ****（****为你要设置的密码）\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#6.若出现(error) NOAUTH Authentication required.错误，则使用 auth 密码来认证密码")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v('2021-11-18 14:23:32.250 [Druid-ConnectionPool-Create-794476802] ERROR com.alibaba.druid.pool.DruidDataSource - create connection error, url: jdbc:mysql://49.233.34.168:6699/pattern?useUnicode=true&characterEncoding=utf8&allowMultiQueries=true, errorCode 1040, state 08004\ncom.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Data source rejected establishment of connection,  message from server: "Too many connections"')])])}),[],!1,null,null,null);e.default=r.exports}}]);