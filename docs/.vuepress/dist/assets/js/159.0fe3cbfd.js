(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{1503:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_2-路由规则概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-路由规则概述"}},[t._v("#")]),t._v(" 2. 路由规则概述")]),t._v(" "),n("p",[n("strong",[t._v("Spring Cloud Gateway 创建 Route 对象时， 使用 RoutePredicateFactory 创建 Predicate 对象，Predicate 对象可以赋值给 Route")])]),t._v(" "),n("p",[t._v("◆ Spring Cloud Gateway 包含许多内置的 Route Predicate Factories"),n("br"),t._v("\n◆ 所有这些断言都匹配 HTTP 请求的不同属性"),n("br"),t._v("\n◆ 多个 Route Predicate Factories 可以通过"),n("font",{attrs:{color:"red"}},[n("strong",[t._v("逻辑与（and）")])]),t._v("结合起来一起使用")],1),t._v(" "),n("p",[t._v("路由断言工厂 RoutePredicateFactory 包含的主要实现类如图所示，包括 "),n("font",{attrs:{color:"red"}},[n("strong",[t._v("Datetime、 请求的远端地址、 路由权重、 请求头、 Host 地址、 请求方法、 请求路径和请求参数")])]),t._v("等类型的路由断言")],1),t._v(" "),n("p",[n("a",{attrs:{"data-fancybox":"",title:"RoutePredicateFactory",href:"./image/RoutePredicateFactory.jpg"}},[n("img",{attrs:{src:a(849),alt:"RoutePredicateFactory"}})])]),t._v(" "),n("h2",{attrs:{id:"_2-1-路由规则-path"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-路由规则-path"}},[t._v("#")]),t._v(" 2.1 路由规则-Path")]),t._v(" "),n("p",[n("strong",[t._v("匹配对应 URL 的请求，将匹配到的请求追加在目标 URI 之后")])]),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由规则")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" product"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由 ID，唯一")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7070/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 目标 URI，路由到微服务的地址")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 断言（判断条件）")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Path=/product/"),n("span",{pre:!0,attrs:{class:"token important"}},[t._v("**")]),t._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配对应 URL 的请求，将匹配到的请求追加在目标 URI 之后")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[t._v("请求 http://localhost:9000/product/1 将会路由至 http://localhost:7070/product/1")]),t._v(" "),n("h2",{attrs:{id:"_2-2-路由规则-query"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-路由规则-query"}},[t._v("#")]),t._v(" 2.2 路由规则-Query")]),t._v(" "),n("p",[n("strong",[t._v("匹配请求参数中包含 token 的请求")])]),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由规则")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" product"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由 ID，唯一")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7070/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 目标 URI，路由到微服务的地址")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 断言（判断条件）")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Query=token               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配请求参数中包含 token 的请求")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#- Query=token, abc.         # 匹配请求参数中包含 token 并且其参数值满足正则表达式 abc. 的请求")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[t._v("Query=token ：比如，"),n("a",[t._v("http://localhost:9000/product/1?token=123")]),n("br"),t._v("\nQuery=token, abc. ：比如，"),n("a",[t._v("http://localhost:9000/product/1?token=abc1")])]),t._v(" "),n("h2",{attrs:{id:"_2-3-路由规则-method"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-路由规则-method"}},[t._v("#")]),t._v(" 2.3 路由规则-Method")]),t._v(" "),n("p",[n("strong",[t._v("按请求方式匹配请求")])]),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由规则")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" product"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由 ID，唯一")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7070/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 目标 URI，路由到微服务的地址")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 断言（判断条件）")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Method=GET                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配任意 GET 请求")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h2",{attrs:{id:"_2-4-路由规则-datetime"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-路由规则-datetime"}},[t._v("#")]),t._v(" 2.4 路由规则-DateTime")]),t._v(" "),n("p",[n("strong",[t._v("匹配中国上海时间之后之前的请求")])]),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由规则")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" product"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由 ID，唯一")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7070/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 目标 URI，路由到微服务的地址")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 断言（判断条件）")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配中国上海时间 2021-6-6 18:34:57 之后的请求")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#             - After=2021-06-06T20:20:20.000+08:00[Asia/Shanghai]")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Before=2021"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("06"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("06T20"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("20"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("20.000+08"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("00"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asia/Shanghai"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])]),n("h2",{attrs:{id:"_2-5-路由规则-header"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-路由规则-header"}},[t._v("#")]),t._v(" 2.5 路由规则-Header")]),t._v(" "),n("p",[n("strong",[t._v("匹配请求头包含 XXX参数")])]),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由规则")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" product"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由 ID，唯一")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7070/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 目标 URI，路由到微服务的地址")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 断言（判断条件）")]),t._v("\n               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配请求头包含 X-Request-Id 并且其值匹配正则表达式 \\d+ 的请求")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Header=X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\d+\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[t._v("http://192.168.1.6:9000/product/1?token=123")]),t._v(" "),n("p",[n("a",{attrs:{"data-fancybox":"",title:"header",href:"./image/header.jpg"}},[n("img",{attrs:{src:a(850),alt:"header"}})])]),t._v(" "),n("h2",{attrs:{id:"_2-6-路由规则-remoteaddr"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-路由规则-remoteaddr"}},[t._v("#")]),t._v(" 2.6 路由规则-RemoteAddr")]),t._v(" "),n("p",[n("strong",[t._v("匹配远程地址请求是 RemoteAddr 的请求")])]),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由规则")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" product"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由 ID，唯一")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7070/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 目标 URI，路由到微服务的地址")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 断言（判断条件）")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配远程地址请求是 RemoteAddr 的请求，0表示子网掩码")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" RemoteAddr=192.168.1.6/0\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[n("a",{attrs:{href:""}},[t._v("http://192.168.1.6:9000/product/1?token=123")])]),t._v(" "),n("h2",{attrs:{id:"_2-7-路由规则-动态路由-服务发现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-路由规则-动态路由-服务发现"}},[t._v("#")]),t._v(" 2.7 路由规则-动态路由(服务发现)")]),t._v(" "),n("p",[n("strong",[t._v("动态路由其实就是面向服务的路由")]),t._v("，Spring Cloud Gateway 支持与 "),n("strong",[t._v("Eureka")]),t._v(" 整合开发，"),n("font",{attrs:{color:"red"}},[n("strong",[t._v("根据 serviceId 自动从注册中心获取服务地址并转发请求")])]),t._v("，这样做的好处不仅可以通过单个端点来访问应用的所有服务，而且"),n("font",{attrs:{color:"red"}},[n("strong",[t._v("在添加或移除服务实例时不用修改 Gateway 的路由配置")])])],1),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由规则")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" order"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由 ID，唯一")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//order"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# lb:// 根据服务名称从注册中心获取服务请求地址")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 断言（判断条件）")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Path=/order/"),n("span",{pre:!0,attrs:{class:"token important"}},[t._v("**")]),t._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配对应 URL 的请求，将匹配到的请求追加在目标 URI 之后")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 端口")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置 Eureka Server 注册中心")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefer-ip-address")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否使用 ip 地址注册")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instance-id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("spring.cloud.client.ip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("server.port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ip:port")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置服务注册中心地址")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8761/eureka/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8762/eureka/\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br")])]),n("p",[n("a",{attrs:{href:""}},[t._v("http://localhost:9000/order/1")])]),t._v(" "),n("h2",{attrs:{id:"_2-8-★路由规则-服务名称转发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-★路由规则-服务名称转发"}},[t._v("#")]),t._v(" 2.8 ★路由规则-服务名称转发")]),t._v(" "),n("p",[t._v("即使配置了动态获取 URI 的方式，项目中微服务一旦过多几十上百个时，配置中任然要写很多配置，这时候就"),n("font",{attrs:{color:"red"}},[n("strong",[t._v("可以使用服务名称转发，与服务发现组件进行结合，通过 serviceId 转发到具体服务实例")])]),t._v("。 "),n("font",{attrs:{color:"blue"}},[n("strong",[t._v("默认匹配URL /微服务名称/** 路由到具体微服务")])]),t._v("。")],1),t._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用名称")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("discovery")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("locator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否与服务发现组件进行结合，通过 serviceId 转发到具体服务实例。")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("                           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否开启基于服务发现的路由规则")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("lower-case-service-id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否将服务名称转小写")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 端口")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置 Eureka Server 注册中心")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefer-ip-address")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否使用 ip 地址注册")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instance-id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("spring.cloud.client.ip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("server.port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ip:port")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置服务注册中心地址")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8761/eureka/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8762/eureka/\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br")])]),n("p",[t._v("配置文件中没有配置任何订单服务的信息，可以通过一下方式访问：\n"),n("a",{attrs:{href:""}},[t._v("http://localhost:9000/order-service/order/1 ")]),t._v(" "),n("a",{attrs:{href:""}},[t._v("http://localhost:9000/product-service/product/1")])])])}),[],!1,null,null,null);s.default=e.exports},849:function(t,s,a){t.exports=a.p+"assets/img/RoutePredicateFactory.62e3bcb4.jpg"},850:function(t,s,a){t.exports=a.p+"assets/img/header.79e2893c.jpg"}}]);