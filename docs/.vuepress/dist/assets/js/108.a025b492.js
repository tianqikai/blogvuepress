(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{838:function(s,a,e){"use strict";e.r(a);var r=e(26),t=Object(r.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"_6-docker安装redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-docker安装redis"}},[s._v("#")]),s._v(" 6 Docker安装Redis")]),s._v(" "),e("h2",{attrs:{id:"_6-1-docker拉取redis镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-docker拉取redis镜像"}},[s._v("#")]),s._v(" 6.1 Docker拉取redis镜像")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker pull redis\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_6-2-docker启动redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-docker启动redis"}},[s._v("#")]),s._v(" 6.2 docker启动redis")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建redis配置文件目录")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /mydata/redis/conf\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /mydata/redis/conf/redis.conf\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动redis容器")]),s._v("\n\ndocker run -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6400")]),s._v(":6400 --name redis "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /mydata/redis/data:/data "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d redis redis-server /etc/redis/redis.conf\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置redis持久化")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appendonly yes"')]),s._v("  "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /mydata/redis/conf/redis.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h2",{attrs:{id:"_6-3-重启生效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-重启生效"}},[s._v("#")]),s._v(" 6.3 重启生效")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启redis")]),s._v("\ndocker restart redis\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# redis容器随docker启动自动运行")]),s._v("\ndocker update redis --restart"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);