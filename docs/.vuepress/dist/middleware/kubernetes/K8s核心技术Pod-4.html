<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>5. K8s核心技术Pod | TQK的个人博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/images/logo.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="TQK的个人博客">
    <meta name="author" content="冰岛红茶">
    <meta name="keywords" content="个人博客 ，java ，后端">
    
    <link rel="preload" href="/assets/css/0.styles.7055dd22.css" as="style"><link rel="preload" href="/assets/js/app.a269e6e3.js" as="script"><link rel="preload" href="/assets/js/2.99bf64c9.js" as="script"><link rel="preload" href="/assets/js/6.ae267412.js" as="script"><link rel="prefetch" href="/assets/js/10.d1179322.js"><link rel="prefetch" href="/assets/js/100.49b09272.js"><link rel="prefetch" href="/assets/js/101.29516941.js"><link rel="prefetch" href="/assets/js/102.ff1b5789.js"><link rel="prefetch" href="/assets/js/103.c340ca13.js"><link rel="prefetch" href="/assets/js/104.c2878bbb.js"><link rel="prefetch" href="/assets/js/105.651ca559.js"><link rel="prefetch" href="/assets/js/106.a979c858.js"><link rel="prefetch" href="/assets/js/107.ccec254f.js"><link rel="prefetch" href="/assets/js/108.79d9c6e9.js"><link rel="prefetch" href="/assets/js/109.179d78d9.js"><link rel="prefetch" href="/assets/js/11.698fe406.js"><link rel="prefetch" href="/assets/js/110.e93501fc.js"><link rel="prefetch" href="/assets/js/111.eaa68a7e.js"><link rel="prefetch" href="/assets/js/112.3fb7de24.js"><link rel="prefetch" href="/assets/js/113.c47425c5.js"><link rel="prefetch" href="/assets/js/114.772b64f7.js"><link rel="prefetch" href="/assets/js/115.332dba12.js"><link rel="prefetch" href="/assets/js/116.1cc173fe.js"><link rel="prefetch" href="/assets/js/117.ec5ab521.js"><link rel="prefetch" href="/assets/js/118.c25e7170.js"><link rel="prefetch" href="/assets/js/119.cc2fc1a9.js"><link rel="prefetch" href="/assets/js/12.fe199234.js"><link rel="prefetch" href="/assets/js/120.43d8ef41.js"><link rel="prefetch" href="/assets/js/121.4da0fd1d.js"><link rel="prefetch" href="/assets/js/122.9d316f3e.js"><link rel="prefetch" href="/assets/js/123.803e7500.js"><link rel="prefetch" href="/assets/js/124.64d3aa15.js"><link rel="prefetch" href="/assets/js/125.db239821.js"><link rel="prefetch" href="/assets/js/126.89942a20.js"><link rel="prefetch" href="/assets/js/127.15ef758c.js"><link rel="prefetch" href="/assets/js/128.e4f78e13.js"><link rel="prefetch" href="/assets/js/129.73fa2a61.js"><link rel="prefetch" href="/assets/js/13.cdde4e95.js"><link rel="prefetch" href="/assets/js/130.9c14493b.js"><link rel="prefetch" href="/assets/js/131.0e732999.js"><link rel="prefetch" href="/assets/js/132.08cb7f52.js"><link rel="prefetch" href="/assets/js/133.f22aaa33.js"><link rel="prefetch" href="/assets/js/134.71b3a687.js"><link rel="prefetch" href="/assets/js/135.a20eb76d.js"><link rel="prefetch" href="/assets/js/136.268cbd16.js"><link rel="prefetch" href="/assets/js/137.7e38fe70.js"><link rel="prefetch" href="/assets/js/138.ccf82202.js"><link rel="prefetch" href="/assets/js/139.915db14d.js"><link rel="prefetch" href="/assets/js/14.0d53b6b7.js"><link rel="prefetch" href="/assets/js/140.f6113a12.js"><link rel="prefetch" href="/assets/js/141.4712ef9d.js"><link rel="prefetch" href="/assets/js/142.dd724054.js"><link rel="prefetch" href="/assets/js/143.238615ad.js"><link rel="prefetch" href="/assets/js/144.dde11e3b.js"><link rel="prefetch" href="/assets/js/145.9f9c9878.js"><link rel="prefetch" href="/assets/js/146.3772d154.js"><link rel="prefetch" href="/assets/js/147.c4c012c8.js"><link rel="prefetch" href="/assets/js/148.98a5816b.js"><link rel="prefetch" href="/assets/js/149.0e194576.js"><link rel="prefetch" href="/assets/js/15.813dccf4.js"><link rel="prefetch" href="/assets/js/150.bddfd1cd.js"><link rel="prefetch" href="/assets/js/151.82fcfc5d.js"><link rel="prefetch" href="/assets/js/152.24ebc08b.js"><link rel="prefetch" href="/assets/js/153.cc9bf248.js"><link rel="prefetch" href="/assets/js/154.5d2b1822.js"><link rel="prefetch" href="/assets/js/155.f1876697.js"><link rel="prefetch" href="/assets/js/156.63968943.js"><link rel="prefetch" href="/assets/js/157.695ae6cb.js"><link rel="prefetch" href="/assets/js/158.c541d9c1.js"><link rel="prefetch" href="/assets/js/159.f1814355.js"><link rel="prefetch" href="/assets/js/16.5ac24625.js"><link rel="prefetch" href="/assets/js/160.d6ee6a70.js"><link rel="prefetch" href="/assets/js/161.bb72144d.js"><link rel="prefetch" href="/assets/js/162.14c7f7ec.js"><link rel="prefetch" href="/assets/js/163.b88639d6.js"><link rel="prefetch" href="/assets/js/164.f6f03534.js"><link rel="prefetch" href="/assets/js/165.2e6db94f.js"><link rel="prefetch" href="/assets/js/166.64bf465b.js"><link rel="prefetch" href="/assets/js/167.1e48e360.js"><link rel="prefetch" href="/assets/js/168.c34e2d52.js"><link rel="prefetch" href="/assets/js/169.d8a0fe97.js"><link rel="prefetch" href="/assets/js/17.c2433c57.js"><link rel="prefetch" href="/assets/js/170.903c9154.js"><link rel="prefetch" href="/assets/js/171.8fd651ca.js"><link rel="prefetch" href="/assets/js/172.79f3e27c.js"><link rel="prefetch" href="/assets/js/173.a8609309.js"><link rel="prefetch" href="/assets/js/174.f80fdbeb.js"><link rel="prefetch" href="/assets/js/175.65470ebb.js"><link rel="prefetch" href="/assets/js/176.09bc1692.js"><link rel="prefetch" href="/assets/js/177.c26552ca.js"><link rel="prefetch" href="/assets/js/178.b8121477.js"><link rel="prefetch" href="/assets/js/179.606e984d.js"><link rel="prefetch" href="/assets/js/18.de0ee1ff.js"><link rel="prefetch" href="/assets/js/180.6bbf1d4c.js"><link rel="prefetch" href="/assets/js/181.d89a36ad.js"><link rel="prefetch" href="/assets/js/182.929bb905.js"><link rel="prefetch" href="/assets/js/183.3c36f550.js"><link rel="prefetch" href="/assets/js/184.e0777960.js"><link rel="prefetch" href="/assets/js/185.0fff0038.js"><link rel="prefetch" href="/assets/js/186.b1013792.js"><link rel="prefetch" href="/assets/js/187.ed542af9.js"><link rel="prefetch" href="/assets/js/188.d3a5c4ea.js"><link rel="prefetch" href="/assets/js/189.2467e84d.js"><link rel="prefetch" href="/assets/js/19.6d3f6558.js"><link rel="prefetch" href="/assets/js/190.8071038a.js"><link rel="prefetch" href="/assets/js/191.cfc9e9df.js"><link rel="prefetch" href="/assets/js/192.2da0e69d.js"><link rel="prefetch" href="/assets/js/193.cd9fb699.js"><link rel="prefetch" href="/assets/js/194.7b072aa5.js"><link rel="prefetch" href="/assets/js/195.d10ef79f.js"><link rel="prefetch" href="/assets/js/196.cb398e99.js"><link rel="prefetch" href="/assets/js/197.1b155918.js"><link rel="prefetch" href="/assets/js/198.9b0ecca5.js"><link rel="prefetch" href="/assets/js/199.0d44a3f3.js"><link rel="prefetch" href="/assets/js/20.9719e02b.js"><link rel="prefetch" href="/assets/js/200.f54834ff.js"><link rel="prefetch" href="/assets/js/201.7c0e4b7f.js"><link rel="prefetch" href="/assets/js/202.a39f5b32.js"><link rel="prefetch" href="/assets/js/203.995efedf.js"><link rel="prefetch" href="/assets/js/204.2cbc44b0.js"><link rel="prefetch" href="/assets/js/205.e40f9da5.js"><link rel="prefetch" href="/assets/js/206.4244cab8.js"><link rel="prefetch" href="/assets/js/207.4bf35a19.js"><link rel="prefetch" href="/assets/js/208.896a5d7d.js"><link rel="prefetch" href="/assets/js/209.4eb12207.js"><link rel="prefetch" href="/assets/js/21.9c139838.js"><link rel="prefetch" href="/assets/js/210.5852cf6b.js"><link rel="prefetch" href="/assets/js/211.4e3af679.js"><link rel="prefetch" href="/assets/js/212.7d63aeb2.js"><link rel="prefetch" href="/assets/js/213.0bfe648a.js"><link rel="prefetch" href="/assets/js/214.49de382c.js"><link rel="prefetch" href="/assets/js/215.4fd028c5.js"><link rel="prefetch" href="/assets/js/216.4410a191.js"><link rel="prefetch" href="/assets/js/217.39dfe01a.js"><link rel="prefetch" href="/assets/js/218.371a05d6.js"><link rel="prefetch" href="/assets/js/219.209ce6bf.js"><link rel="prefetch" href="/assets/js/22.98d39c99.js"><link rel="prefetch" href="/assets/js/220.9cfcda81.js"><link rel="prefetch" href="/assets/js/221.763d4525.js"><link rel="prefetch" href="/assets/js/222.fb5dd40d.js"><link rel="prefetch" href="/assets/js/223.14c93ecd.js"><link rel="prefetch" href="/assets/js/224.fb872755.js"><link rel="prefetch" href="/assets/js/225.b2ec9a65.js"><link rel="prefetch" href="/assets/js/226.a0821a12.js"><link rel="prefetch" href="/assets/js/227.5438a9db.js"><link rel="prefetch" href="/assets/js/228.0e0617ce.js"><link rel="prefetch" href="/assets/js/229.887747fc.js"><link rel="prefetch" href="/assets/js/23.0b4c41e7.js"><link rel="prefetch" href="/assets/js/230.00fb9a0a.js"><link rel="prefetch" href="/assets/js/231.ed777159.js"><link rel="prefetch" href="/assets/js/232.1e3c6b05.js"><link rel="prefetch" href="/assets/js/233.c46e372c.js"><link rel="prefetch" href="/assets/js/234.eabd24b5.js"><link rel="prefetch" href="/assets/js/235.888c6ea5.js"><link rel="prefetch" href="/assets/js/236.0304b04f.js"><link rel="prefetch" href="/assets/js/237.a12b4073.js"><link rel="prefetch" href="/assets/js/238.1463391e.js"><link rel="prefetch" href="/assets/js/239.b40feb9a.js"><link rel="prefetch" href="/assets/js/24.d2cc0dc6.js"><link rel="prefetch" href="/assets/js/240.89f156ab.js"><link rel="prefetch" href="/assets/js/241.25bc445f.js"><link rel="prefetch" href="/assets/js/242.b30267b9.js"><link rel="prefetch" href="/assets/js/243.df9d8044.js"><link rel="prefetch" href="/assets/js/244.63ae1880.js"><link rel="prefetch" href="/assets/js/245.05bbe300.js"><link rel="prefetch" href="/assets/js/246.c3dc1b81.js"><link rel="prefetch" href="/assets/js/247.decc7bb5.js"><link rel="prefetch" href="/assets/js/248.a8515fa4.js"><link rel="prefetch" href="/assets/js/249.249640d6.js"><link rel="prefetch" href="/assets/js/25.42841bf5.js"><link rel="prefetch" href="/assets/js/250.69d2baa0.js"><link rel="prefetch" href="/assets/js/251.32393d9b.js"><link rel="prefetch" href="/assets/js/252.6eff33af.js"><link rel="prefetch" href="/assets/js/253.51b8bb38.js"><link rel="prefetch" href="/assets/js/254.5bffac24.js"><link rel="prefetch" href="/assets/js/255.cab0c493.js"><link rel="prefetch" href="/assets/js/256.167de478.js"><link rel="prefetch" href="/assets/js/257.bcdc4031.js"><link rel="prefetch" href="/assets/js/258.6bce3f8d.js"><link rel="prefetch" href="/assets/js/259.dcfdee03.js"><link rel="prefetch" href="/assets/js/26.d01f0869.js"><link rel="prefetch" href="/assets/js/260.adcb9f1c.js"><link rel="prefetch" href="/assets/js/261.7ce9bc3a.js"><link rel="prefetch" href="/assets/js/262.5a4ab4cd.js"><link rel="prefetch" href="/assets/js/263.45e264cd.js"><link rel="prefetch" href="/assets/js/264.db5e91b3.js"><link rel="prefetch" href="/assets/js/265.7e124fd9.js"><link rel="prefetch" href="/assets/js/266.07a3f274.js"><link rel="prefetch" href="/assets/js/267.20982e52.js"><link rel="prefetch" href="/assets/js/268.314fb458.js"><link rel="prefetch" href="/assets/js/269.20d5c4e8.js"><link rel="prefetch" href="/assets/js/27.0b4ad970.js"><link rel="prefetch" href="/assets/js/270.92d52c55.js"><link rel="prefetch" href="/assets/js/271.f1f93bd4.js"><link rel="prefetch" href="/assets/js/272.e5dbad92.js"><link rel="prefetch" href="/assets/js/273.4c727e00.js"><link rel="prefetch" href="/assets/js/274.60260372.js"><link rel="prefetch" href="/assets/js/275.0a5d5f87.js"><link rel="prefetch" href="/assets/js/276.134c8a4f.js"><link rel="prefetch" href="/assets/js/277.7d7e6033.js"><link rel="prefetch" href="/assets/js/278.d36d4124.js"><link rel="prefetch" href="/assets/js/279.f5e1bf39.js"><link rel="prefetch" href="/assets/js/28.f50188dc.js"><link rel="prefetch" href="/assets/js/280.356771ee.js"><link rel="prefetch" href="/assets/js/281.bea0c5c3.js"><link rel="prefetch" href="/assets/js/282.25eaede0.js"><link rel="prefetch" href="/assets/js/283.ebf0447f.js"><link rel="prefetch" href="/assets/js/284.13ebdc64.js"><link rel="prefetch" href="/assets/js/285.d99922f9.js"><link rel="prefetch" href="/assets/js/286.6e561f3b.js"><link rel="prefetch" href="/assets/js/287.730cc6e8.js"><link rel="prefetch" href="/assets/js/288.a60281a6.js"><link rel="prefetch" href="/assets/js/289.187fa285.js"><link rel="prefetch" href="/assets/js/29.b083559e.js"><link rel="prefetch" href="/assets/js/290.3cdd9e39.js"><link rel="prefetch" href="/assets/js/291.2bb96bd7.js"><link rel="prefetch" href="/assets/js/292.eed40b0f.js"><link rel="prefetch" href="/assets/js/293.5cf23393.js"><link rel="prefetch" href="/assets/js/294.303ab288.js"><link rel="prefetch" href="/assets/js/295.cd4bd369.js"><link rel="prefetch" href="/assets/js/296.86c5b32c.js"><link rel="prefetch" href="/assets/js/297.a391f4a0.js"><link rel="prefetch" href="/assets/js/298.2ba75900.js"><link rel="prefetch" href="/assets/js/299.087f4522.js"><link rel="prefetch" href="/assets/js/3.3d38832c.js"><link rel="prefetch" href="/assets/js/30.c792e265.js"><link rel="prefetch" href="/assets/js/300.aff0b9ef.js"><link rel="prefetch" href="/assets/js/301.8388919f.js"><link rel="prefetch" href="/assets/js/302.8b6ce08f.js"><link rel="prefetch" href="/assets/js/303.9e337546.js"><link rel="prefetch" href="/assets/js/304.0b8e5650.js"><link rel="prefetch" href="/assets/js/31.2eab6ad5.js"><link rel="prefetch" href="/assets/js/32.e7315569.js"><link rel="prefetch" href="/assets/js/33.17564f05.js"><link rel="prefetch" href="/assets/js/34.944abbcc.js"><link rel="prefetch" href="/assets/js/35.f27ca552.js"><link rel="prefetch" href="/assets/js/36.d9700e10.js"><link rel="prefetch" href="/assets/js/37.3ede438a.js"><link rel="prefetch" href="/assets/js/38.97f45114.js"><link rel="prefetch" href="/assets/js/39.bff69794.js"><link rel="prefetch" href="/assets/js/4.423930b9.js"><link rel="prefetch" href="/assets/js/40.4b39b534.js"><link rel="prefetch" href="/assets/js/41.3598dfb7.js"><link rel="prefetch" href="/assets/js/42.9b942e24.js"><link rel="prefetch" href="/assets/js/43.c216d266.js"><link rel="prefetch" href="/assets/js/44.0cb7ef31.js"><link rel="prefetch" href="/assets/js/45.68139ca7.js"><link rel="prefetch" href="/assets/js/46.50bfd95e.js"><link rel="prefetch" href="/assets/js/47.72a11523.js"><link rel="prefetch" href="/assets/js/48.7c8b36af.js"><link rel="prefetch" href="/assets/js/49.f9c3bd87.js"><link rel="prefetch" href="/assets/js/5.d604fdbb.js"><link rel="prefetch" href="/assets/js/50.fa55a822.js"><link rel="prefetch" href="/assets/js/51.1f9a97a0.js"><link rel="prefetch" href="/assets/js/52.1e1112e1.js"><link rel="prefetch" href="/assets/js/53.f159de2f.js"><link rel="prefetch" href="/assets/js/54.7af45d4f.js"><link rel="prefetch" href="/assets/js/55.aacfdb8e.js"><link rel="prefetch" href="/assets/js/56.936da245.js"><link rel="prefetch" href="/assets/js/57.6daf57dc.js"><link rel="prefetch" href="/assets/js/58.4f5c1139.js"><link rel="prefetch" href="/assets/js/59.a2513765.js"><link rel="prefetch" href="/assets/js/60.ad6b3649.js"><link rel="prefetch" href="/assets/js/61.b985a9da.js"><link rel="prefetch" href="/assets/js/62.8c10d9e3.js"><link rel="prefetch" href="/assets/js/63.8c3afeaa.js"><link rel="prefetch" href="/assets/js/64.d576c320.js"><link rel="prefetch" href="/assets/js/65.e3437f64.js"><link rel="prefetch" href="/assets/js/66.517230f5.js"><link rel="prefetch" href="/assets/js/67.b1037f65.js"><link rel="prefetch" href="/assets/js/68.552a9ae1.js"><link rel="prefetch" href="/assets/js/69.226db1e1.js"><link rel="prefetch" href="/assets/js/7.d85a505a.js"><link rel="prefetch" href="/assets/js/70.93d4cc97.js"><link rel="prefetch" href="/assets/js/71.39a4af0d.js"><link rel="prefetch" href="/assets/js/72.596b33a8.js"><link rel="prefetch" href="/assets/js/73.189be66b.js"><link rel="prefetch" href="/assets/js/74.e22f5ac6.js"><link rel="prefetch" href="/assets/js/75.5d016438.js"><link rel="prefetch" href="/assets/js/76.6fd4e2f1.js"><link rel="prefetch" href="/assets/js/77.9691cf01.js"><link rel="prefetch" href="/assets/js/78.3be14737.js"><link rel="prefetch" href="/assets/js/79.b3b5c41e.js"><link rel="prefetch" href="/assets/js/8.67e4a3e0.js"><link rel="prefetch" href="/assets/js/80.4aabb9e2.js"><link rel="prefetch" href="/assets/js/81.f10b824c.js"><link rel="prefetch" href="/assets/js/82.02c973aa.js"><link rel="prefetch" href="/assets/js/83.a23ffdd1.js"><link rel="prefetch" href="/assets/js/84.b3edaff0.js"><link rel="prefetch" href="/assets/js/85.cdae8ce6.js"><link rel="prefetch" href="/assets/js/86.a32056d3.js"><link rel="prefetch" href="/assets/js/87.e46c8a98.js"><link rel="prefetch" href="/assets/js/88.d6b60e3f.js"><link rel="prefetch" href="/assets/js/89.79b23174.js"><link rel="prefetch" href="/assets/js/9.f00ca7a4.js"><link rel="prefetch" href="/assets/js/90.2b355f00.js"><link rel="prefetch" href="/assets/js/91.7c4108b6.js"><link rel="prefetch" href="/assets/js/92.4cf325a5.js"><link rel="prefetch" href="/assets/js/93.37982304.js"><link rel="prefetch" href="/assets/js/94.83785213.js"><link rel="prefetch" href="/assets/js/95.ea635412.js"><link rel="prefetch" href="/assets/js/96.c344c2c2.js"><link rel="prefetch" href="/assets/js/97.7faaf7ae.js"><link rel="prefetch" href="/assets/js/98.0c7e5c45.js"><link rel="prefetch" href="/assets/js/99.4f32e89c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7055dd22.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="TQK的个人博客" class="logo"> <span class="site-name can-hide">TQK的个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="入门基础" class="dropdown-title"><span class="title">入门基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="入门基础" class="mobile-dropdown-title"><span class="title">入门基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/java/" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/base/seniorJava/" class="nav-link">
  Java基础(高级)
</a></li><li class="dropdown-item"><!----> <a href="/base/data-structure/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/base/design-pattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/JVM/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/base/es6/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/base/shell/" class="nav-link">
  Shell脚本
</a></li><li class="dropdown-item"><!----> <a href="/base/golang/" class="nav-link">
  go语言
</a></li><li class="dropdown-item"><!----> <a href="/base/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/base/c/" class="nav-link">
  C语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/db/mongdb/" class="nav-link">
  Mongdb
</a></li><li class="dropdown-item"><!----> <a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-item"><!----> <a href="/db/fenkufenbiao/" class="nav-link">
  分库分表
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><span class="title">常用框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用框架" class="mobile-dropdown-title"><span class="title">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/springmvc/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  Springboot
</a></li><li class="dropdown-item"><!----> <a href="/framework/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/framework/vue/" class="nav-link">
  Vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SpringCloud
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/SpringCloud/Eureka/" class="nav-link">
  Eureka
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Consul/" class="nav-link">
  Consul
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Feign/" class="nav-link">
  Feign
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Hystrix/" class="nav-link">
  Hystrix
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/zuul/" class="nav-link">
  Zuul
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/gateway/" class="nav-link">
  Gateway
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/sleuth/" class="nav-link">
  Sleuth链路追踪
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Apollo/" class="nav-link">
  Apollo配置中心
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringCloudAlibaba
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/SpringCloudAlibaba/nacos/" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloudAlibaba/Sentinel/" class="nav-link">
  Sentinel
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloudAlibaba/seata/" class="nav-link">
  seata
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/netty/" class="nav-link">
  netty
</a></li><li class="dropdown-item"><!----> <a href="/middleware/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">
  zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middleware/sso/" class="nav-link">
  单点登陆
</a></li><li class="dropdown-item"><!----> <a href="/middleware/fastdfs/" class="nav-link">
  fastDFS
</a></li><li class="dropdown-item"><!----> <a href="/middleware/Elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/RabbitMQ/" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/middleware/kafka/" class="nav-link">
  kafka
</a></li><li class="dropdown-subitem"><a href="/middleware/RocketMQ/" class="nav-link">
  RocketMQ
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="云原生" class="dropdown-title"><span class="title">云原生</span> <span class="arrow down"></span></button> <button type="button" aria-label="云原生" class="mobile-dropdown-title"><span class="title">云原生</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/network/" class="nav-link">
  云原生网络
</a></li><li class="dropdown-item"><!----> <a href="/middleware/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/middleware/kubernetes/" class="nav-link router-link-active">
  kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/tool/Jenkins/" class="nav-link">
  Jenkins
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/alibaba/" class="nav-link">
  阿里巴巴Java开发手册
</a></li><li class="dropdown-item"><!----> <a href="/other/english/" class="nav-link">
  编程英语
</a></li><li class="dropdown-item"><!----> <a href="/other/idea/" class="nav-link">
  IDEA快捷键
</a></li><li class="dropdown-item"><!----> <a href="/other/url/" class="nav-link">
  常用网站
</a></li><li class="dropdown-item"><!----> <a href="/other/jdk/" class="nav-link">
  Liunx安装jdk
</a></li><li class="dropdown-item"><!----> <a href="/other/VMware/" class="nav-link">
  VMware
</a></li><li class="dropdown-item"><!----> <a href="/other/jiqun/" class="nav-link">
  Liunx集群
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/tool/jemeter/" class="nav-link">
  jemeter
</a></li><li class="dropdown-item"><!----> <a href="/tool/postman/" class="nav-link">
  postman
</a></li><li class="dropdown-item"><!----> <a href="/tool/PowerDesigner/" class="nav-link">
  PowerDesigner
</a></li><li class="dropdown-item"><!----> <a href="/tool/Nodejs/" class="nav-link">
  Nodejs
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/tianqikai/blogvuepress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="入门基础" class="dropdown-title"><span class="title">入门基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="入门基础" class="mobile-dropdown-title"><span class="title">入门基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/java/" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/base/seniorJava/" class="nav-link">
  Java基础(高级)
</a></li><li class="dropdown-item"><!----> <a href="/base/data-structure/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/base/design-pattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/JVM/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/base/es6/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/base/shell/" class="nav-link">
  Shell脚本
</a></li><li class="dropdown-item"><!----> <a href="/base/golang/" class="nav-link">
  go语言
</a></li><li class="dropdown-item"><!----> <a href="/base/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/base/c/" class="nav-link">
  C语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/db/mongdb/" class="nav-link">
  Mongdb
</a></li><li class="dropdown-item"><!----> <a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-item"><!----> <a href="/db/fenkufenbiao/" class="nav-link">
  分库分表
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><span class="title">常用框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用框架" class="mobile-dropdown-title"><span class="title">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/springmvc/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  Springboot
</a></li><li class="dropdown-item"><!----> <a href="/framework/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/framework/vue/" class="nav-link">
  Vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SpringCloud
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/SpringCloud/Eureka/" class="nav-link">
  Eureka
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Consul/" class="nav-link">
  Consul
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Feign/" class="nav-link">
  Feign
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Hystrix/" class="nav-link">
  Hystrix
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/zuul/" class="nav-link">
  Zuul
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/gateway/" class="nav-link">
  Gateway
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/sleuth/" class="nav-link">
  Sleuth链路追踪
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloud/Apollo/" class="nav-link">
  Apollo配置中心
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringCloudAlibaba
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/SpringCloudAlibaba/nacos/" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloudAlibaba/Sentinel/" class="nav-link">
  Sentinel
</a></li><li class="dropdown-subitem"><a href="/framework/SpringCloudAlibaba/seata/" class="nav-link">
  seata
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/netty/" class="nav-link">
  netty
</a></li><li class="dropdown-item"><!----> <a href="/middleware/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">
  zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middleware/sso/" class="nav-link">
  单点登陆
</a></li><li class="dropdown-item"><!----> <a href="/middleware/fastdfs/" class="nav-link">
  fastDFS
</a></li><li class="dropdown-item"><!----> <a href="/middleware/Elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/RabbitMQ/" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/middleware/kafka/" class="nav-link">
  kafka
</a></li><li class="dropdown-subitem"><a href="/middleware/RocketMQ/" class="nav-link">
  RocketMQ
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="云原生" class="dropdown-title"><span class="title">云原生</span> <span class="arrow down"></span></button> <button type="button" aria-label="云原生" class="mobile-dropdown-title"><span class="title">云原生</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/network/" class="nav-link">
  云原生网络
</a></li><li class="dropdown-item"><!----> <a href="/middleware/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/middleware/kubernetes/" class="nav-link router-link-active">
  kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/tool/Jenkins/" class="nav-link">
  Jenkins
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/alibaba/" class="nav-link">
  阿里巴巴Java开发手册
</a></li><li class="dropdown-item"><!----> <a href="/other/english/" class="nav-link">
  编程英语
</a></li><li class="dropdown-item"><!----> <a href="/other/idea/" class="nav-link">
  IDEA快捷键
</a></li><li class="dropdown-item"><!----> <a href="/other/url/" class="nav-link">
  常用网站
</a></li><li class="dropdown-item"><!----> <a href="/other/jdk/" class="nav-link">
  Liunx安装jdk
</a></li><li class="dropdown-item"><!----> <a href="/other/VMware/" class="nav-link">
  VMware
</a></li><li class="dropdown-item"><!----> <a href="/other/jiqun/" class="nav-link">
  Liunx集群
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/tool/jemeter/" class="nav-link">
  jemeter
</a></li><li class="dropdown-item"><!----> <a href="/tool/postman/" class="nav-link">
  postman
</a></li><li class="dropdown-item"><!----> <a href="/tool/PowerDesigner/" class="nav-link">
  PowerDesigner
</a></li><li class="dropdown-item"><!----> <a href="/tool/Nodejs/" class="nav-link">
  Nodejs
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/tianqikai/blogvuepress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Kubernetes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/middleware/kubernetes/" aria-current="page" class="sidebar-link">kubernetes 容器管理</a></li><li><a href="/middleware/kubernetes/K8s组件介绍-0.html" class="sidebar-link">1. K8s组件介绍</a></li><li><a href="/middleware/kubernetes/kubeadm方式搭建K8S集群-1.html" class="sidebar-link">2. kubeadm方式搭建K8S集群</a></li><li><a href="/middleware/kubernetes/集群管理工具kubectl-2.html" class="sidebar-link">3. K8s集群管理工具kubectl</a></li><li><a href="/middleware/kubernetes/K8s集群YAML文件详解-3.html" class="sidebar-link">4. K8s集群YAML文件详解</a></li><li><a href="/middleware/kubernetes/K8s核心技术Pod-4.html" class="active sidebar-link">5. K8s核心技术Pod</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-1-pod概述" class="sidebar-link">5.1 Pod概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-1-1-pod基本概念" class="sidebar-link">5.1.1 Pod基本概念</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-1-2-pod存在的意义" class="sidebar-link">5.1.2 Pod存在的意义</a></li></ul></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-2-pod实现机制" class="sidebar-link">5.2 Pod实现机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-2-1-共享网络" class="sidebar-link">5.2.1 共享网络</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-2-2-共享存储" class="sidebar-link">5.2.2 共享存储</a></li></ul></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-3-pod镜像拉取策略" class="sidebar-link">5.3 Pod镜像拉取策略</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-4-pod资源限制" class="sidebar-link">5.4 Pod资源限制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-4-1-示例" class="sidebar-link">5.4.1 示例</a></li></ul></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-5-pod重启机制" class="sidebar-link">5.5 Pod重启机制</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-6-pod健康检查-★" class="sidebar-link">5.6 Pod健康检查--★</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-7-pod调度策略" class="sidebar-link">5.7 Pod调度策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-7-1-创建pod流程" class="sidebar-link">5.7.1 创建Pod流程</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-7-2-影响pod调度的属性" class="sidebar-link">5.7.2 影响Pod调度的属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-污点和污点容忍" class="sidebar-link">5.8 污点和污点容忍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-1-概述" class="sidebar-link">5.8.1 概述</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-2-场景" class="sidebar-link">5.8.2 场景</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-3-查看污点情况" class="sidebar-link">5.8.3 查看污点情况</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-4-未节点添加污点" class="sidebar-link">5.8.4 未节点添加污点</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-5-删除污点" class="sidebar-link">5.8.5 删除污点</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-6-演示" class="sidebar-link">5.8.6 演示</a></li><li class="sidebar-sub-header"><a href="/middleware/kubernetes/K8s核心技术Pod-4.html#_5-8-7-污点容忍" class="sidebar-link">5.8.7 污点容忍</a></li></ul></li></ul></li><li><a href="/middleware/kubernetes/K8s核心技术Controller-5.html" class="sidebar-link">6. K8s核心技术Controller</a></li><li><a href="/middleware/kubernetes/K8s核心技术Service-6.html" class="sidebar-link">7. K8s核心技术Service</a></li><li><a href="/middleware/kubernetes/K8s控制器Statefulset-7.html" class="sidebar-link">8. K8s核心技术--其他控制器</a></li><li><a href="/middleware/kubernetes/K8s配置管理-8.html" class="sidebar-link">9. K8s配置管理</a></li><li><a href="/middleware/kubernetes/K8s集群安全机制-9.html" class="sidebar-link">10. K8s集群安全机制</a></li><li><a href="/middleware/kubernetes/K8s核心技术Ingress-a.html" class="sidebar-link">11. K8s核心技术Ingress</a></li><li><a href="/middleware/kubernetes/K8s核心技术Helm-b.html" class="sidebar-link">12. K8s核心技术Helm</a></li><li><a href="/middleware/kubernetes/K8s持久化存储-c.html" class="sidebar-link">13. K8s持久化存储</a></li><li><a href="/middleware/kubernetes/k8s资源监控-d.html" class="sidebar-link">14. K8s集群资源监控</a></li><li><a href="/middleware/kubernetes/k8s高可用集群-e.html" class="sidebar-link">15. K8s高可用集群搭建</a></li><li><a href="/middleware/kubernetes/k8s配置默认存储类-f.html" class="sidebar-link">Kubernetes配置默认存储类</a></li><li><a href="/middleware/kubernetes/K8s容器交付-f.html" class="sidebar-link">16. K8s容器交付</a></li><li><a href="/middleware/kubernetes/kubesphere可视化-g.html" class="sidebar-link">16. K8s安装--kubesphere</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_5-k8s核心技术pod"><a href="#_5-k8s核心技术pod" class="header-anchor">#</a> 5. K8s核心技术Pod</h1> <h2 id="_5-1-pod概述"><a href="#_5-1-pod概述" class="header-anchor">#</a> 5.1 Pod概述</h2> <p><strong>Pod是K8S系统中可以创建和管理的最小单元</strong></p> <ul><li>是资源对象模型中由用户创建或部署的最小资源对象模型，</li> <li>也是在K8S上运行容器化应用的资源对象，</li></ul> <p>其它的资源对象都是用来支撑或者扩展Pod对象功能的，比如控制器对象是用来管控Pod对象的，</p> <p>Service或者Ingress资源对象是用来暴露Pod引用对象的，</p> <p>PersistentVolume资源对象是用来为Pod提供存储等等，</p> <p><strong>K8S不会直接处理容器，而是Pod</strong>，<strong>Pod是由一个或多个container组成</strong>。</p> <p>Pod是Kubernetes的最重要概念，每一个Pod都有一个特殊的被称为 “根容器”的Pause容器。Pause容器对应的镜像属于Kubernetes平台的一部分，除了Pause容器，每个Pod还包含一个或多个紧密相关的用户业务容器。</p> <p><img src="/assets/img/image-20201114185528215.b33baaea.png" alt="image-20201114185528215"></p> <h3 id="_5-1-1-pod基本概念"><a href="#_5-1-1-pod基本概念" class="header-anchor">#</a> 5.1.1 Pod基本概念</h3> <ul><li>最小部署的单元</li> <li>Pod里面是由一个或多个容器组成【一组容器的集合】</li> <li>一个pod中的容器是共享网络命名空间</li> <li>Pod是短暂的</li> <li>每个Pod包含一个或多个紧密相关的用户业务容器</li></ul> <h3 id="_5-1-2-pod存在的意义"><a href="#_5-1-2-pod存在的意义" class="header-anchor">#</a> 5.1.2 Pod存在的意义</h3> <ul><li>创建容器使用docker，一个docker对应一个容器，一个容器运行一个应用进程</li> <li>Pod是多进程设计，运用多个应用程序，也就是一个Pod里面有多个容器，而一个容器里面运行一个应用程序</li></ul> <p><img src="/assets/img/image-20201114190018948.2fe4a508.png" alt="image-20201114190018948"></p> <ul><li>Pod的存在是为了亲密性应用
<ul><li>两个应用之间进行交互</li> <li>网络之间的调用【通过127.0.0.1 或 socket】</li> <li>两个应用之间需要频繁调用</li></ul></li></ul> <p>Pod是在K8S集群中运行部署应用或服务的最小单元，它是可以支持多容器的。Pod的设计理念是支持多个容器在一个Pod中共享网络地址和文件系统，可以通过进程间通信和文件共享这种简单高效的方式组合完成服务。同时Pod对多容器的支持是K8S中最基础的设计理念。在生产环境中，通常是由不同的团队各自开发构建自己的容器镜像，在部署的时候组合成一个微服务对外提供服务。</p> <p>Pod是K8S集群中所有业务类型的基础，可以把Pod看作运行在K8S集群上的小机器人，不同类型的业务就需要不同类型的小机器人去执行。目前K8S的业务主要可以分为以下几种</p> <ul><li>长期伺服型：long-running</li> <li>批处理型：batch</li> <li>节点后台支撑型：node-daemon</li> <li>有状态应用型：stateful application</li></ul> <p>上述的几种类型，分别对应的小机器人控制器为：Deployment、Job、DaemonSet 和 StatefulSet  (后面将介绍控制器)</p> <h2 id="_5-2-pod实现机制"><a href="#_5-2-pod实现机制" class="header-anchor">#</a> 5.2 Pod实现机制</h2> <div class="custom-block tip"><p class="custom-block-title">主要有以下两大机制</p> <ul><li><strong>共享网络</strong></li> <li><strong>共享存储</strong></li></ul></div> <h3 id="_5-2-1-共享网络"><a href="#_5-2-1-共享网络" class="header-anchor">#</a> 5.2.1 共享网络</h3> <p>容器本身之间相互隔离的，一般是通过 <strong>namespace</strong> 和 <strong>group</strong> 进行隔离，那么Pod里面的容器如何实现通信？</p> <ul><li>首先需要满足前提条件，也就是容器都在同一个<strong>namespace</strong>之间</li></ul> <p>关于Pod实现原理，首先会在Pod会创建一个根容器： <code>pause容器</code>，然后我们在创建业务容器 【nginx，redis 等】，在我们创建业务容器的时候，会把它添加到 <code>info容器</code> 中</p> <p>而在 <code>info容器</code> 中会独立出  ip地址，mac地址，port 等信息，然后实现网络的共享</p> <p><img src="/assets/img/image-20201114190913859.3e1c160a.png" alt="image-20201114190913859"></p> <p>完整步骤如下</p> <ul><li>通过 Pause 容器，把其它业务容器加入到Pause容器里，让所有业务容器在同一个名称空间中，可以实现网络共享</li></ul> <h3 id="_5-2-2-共享存储"><a href="#_5-2-2-共享存储" class="header-anchor">#</a> 5.2.2 共享存储</h3> <p>Pod持久化数据，专门存储到某个地方中</p> <p><img src="/assets/img/image-20201114193124160.12f522c0.png" alt="image-20201114193124160"></p> <p>使用 Volumn数据卷进行共享存储，案例如下所示</p> <p><img src="/assets/img/image-20201114193341993.a8cd5a46.png" alt="image-20201114193341993"></p> <h2 id="_5-3-pod镜像拉取策略"><a href="#_5-3-pod镜像拉取策略" class="header-anchor">#</a> 5.3 Pod镜像拉取策略</h2> <p>我们以具体实例来说，拉取策略就是 <code>imagePullPolicy</code></p> <p><img src="/assets/img/image-20201114193605230.3a88250c.png" alt="image-20201114193605230"></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> Always
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">resources</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token key atrule">terminationMessagePath</span><span class="token punctuation">:</span> /dev/termination<span class="token punctuation">-</span>log
        <span class="token key atrule">terminationMessagePolicy</span><span class="token punctuation">:</span> File
      <span class="token key atrule">dnsPolicy</span><span class="token punctuation">:</span> ClusterFirst
      <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Always
      <span class="token key atrule">schedulerName</span><span class="token punctuation">:</span> default<span class="token punctuation">-</span>scheduler
      <span class="token key atrule">securityContext</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token key atrule">terminationGracePeriodSeconds</span><span class="token punctuation">:</span> <span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">拉取策略主要分为了以下几种</p> <ul><li>IfNotPresent：默认值，镜像在宿主机上不存在才拉取</li> <li>Always：每次创建Pod都会重新拉取一次镜像</li> <li>Never：Pod永远不会主动拉取这个镜像</li></ul></div> <h2 id="_5-4-pod资源限制"><a href="#_5-4-pod资源限制" class="header-anchor">#</a> 5.4 Pod资源限制</h2> <p>也就是我们Pod在进行调度的时候，可以对调度的资源进行限制，例如我们限制 Pod调度是使用的资源是 2C4G，那么在调度对应的node节点时，只会占用对应的资源，对于不满足资源的节点，将不会进行调度</p> <p><img src="/assets/img/image-20201114194057920.b9793966.png" alt="image-20201114194057920"></p> <h3 id="_5-4-1-示例"><a href="#_5-4-1-示例" class="header-anchor">#</a> 5.4.1 示例</h3> <p>我们在下面的地方进行资源的限制</p> <p><img src="/assets/img/image-20201114194245517.496d5dfc.png" alt="image-20201114194245517"></p> <div class="custom-block tip"><p class="custom-block-title">这里分了两个部分</p> <ul><li>request：表示调度所需的资源</li> <li>limits：表示最大所占用的资源</li></ul></div> <h2 id="_5-5-pod重启机制"><a href="#_5-5-pod重启机制" class="header-anchor">#</a> 5.5 Pod重启机制</h2> <p>因为Pod中包含了很多个容器，假设某个容器出现问题了，那么就会触发Pod重启机制</p> <p><img src="/assets/img/image-20201114194722125.fa8d391f.png" alt="image-20201114194722125"></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> Always
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">resources</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token key atrule">terminationMessagePath</span><span class="token punctuation">:</span> /dev/termination<span class="token punctuation">-</span>log
        <span class="token key atrule">terminationMessagePolicy</span><span class="token punctuation">:</span> File
      <span class="token key atrule">dnsPolicy</span><span class="token punctuation">:</span> ClusterFirst
      <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Always
      <span class="token key atrule">schedulerName</span><span class="token punctuation">:</span> default<span class="token punctuation">-</span>scheduler
      <span class="token key atrule">securityContext</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token key atrule">terminationGracePeriodSeconds</span><span class="token punctuation">:</span> <span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">重启策略主要分为以下三种</p> <ul><li>Always：当容器终止退出后，总是重启容器，默认策略 【nginx等，需要不断提供服务】</li> <li>OnFailure：当容器异常退出（退出状态码非0）时，才重启容器。</li> <li>Never：当容器终止退出，从不重启容器 【批量任务】</li></ul></div> <h2 id="_5-6-pod健康检查-★"><a href="#_5-6-pod健康检查-★" class="header-anchor">#</a> 5.6 Pod健康检查--★</h2> <p>通过容器检查，原来我们使用下面的命令来检查</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl get pod
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是有的时候，程序可能出现了 <strong>Java</strong> 堆内存溢出，程序还在运行，但是不能对外提供服务了，这个时候就不能通过 容器检查来判断服务是否可用了</p> <p>这个时候就可以使用应用层面的检查</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 存活检查，如果检查失败，将杀死容器，根据Pod的restartPolicy【重启策略】来操作</span>
livenessProbe

<span class="token comment"># 就绪检查，如果检查失败，Kubernetes会把Pod从Service endpoints中剔除</span>
readinessProbe
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/assets/img/image-20201114195807564.7116c6b6.png" alt="image-20201114195807564"></p> <div class="custom-block tip"><p class="custom-block-title">Probe支持以下三种检查方式</p> <ul><li>http Get：发送HTTP请求，返回200 - 400 范围状态码为成功</li> <li>exec：执行Shell命令返回状态码是0为成功</li> <li>tcpSocket：发起TCP Socket建立成功</li></ul></div> <h2 id="_5-7-pod调度策略"><a href="#_5-7-pod调度策略" class="header-anchor">#</a> 5.7 Pod调度策略</h2> <h3 id="_5-7-1-创建pod流程"><a href="#_5-7-1-创建pod流程" class="header-anchor">#</a> 5.7.1 创建Pod流程</h3> <ul><li>首先创建一个pod，然后创建一个API Server 和 Etcd【把创建出来的信息存储在etcd中】</li> <li>然后创建 Scheduler，监控API Server是否有新的Pod，如果有的话，会通过调度算法，把pod调度某个node上</li> <li>在node节点，会通过 <code>kubelet -- apiserver</code> 读取etcd 拿到分配在当前node节点上的pod，然后通过docker创建容器</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods -o wide</span>
NAME                    READY   STATUS    RESTARTS   AGE     IP           NODE        NOMINATED NODE   READINESS GATES
nginx-f89759699-xffhv   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          6h32m   <span class="token number">10.244</span>.1.3   k8s-node1   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/assets/img/image-20201114201611308.0cb4aa81.png" alt="image-20201114201611308"></p> <h3 id="_5-7-2-影响pod调度的属性"><a href="#_5-7-2-影响pod调度的属性" class="header-anchor">#</a> 5.7.2 影响Pod调度的属性</h3> <p>Pod资源限制对Pod的调度会有影响</p> <h4 id="根据request找到足够node节点进行调度"><a href="#根据request找到足够node节点进行调度" class="header-anchor">#</a> 根据request找到足够node节点进行调度</h4> <p><img src="/assets/img/image-20201114194245517.496d5dfc.png" alt="image-20201114194245517"></p> <h4 id="节点选择器标签影响pod调度"><a href="#节点选择器标签影响pod调度" class="header-anchor">#</a> 节点选择器标签影响Pod调度</h4> <p><img src="/assets/img/image-20201114202456151.5beb2886.png" alt="image-20201114202456151"></p> <p>关于节点选择器，其实就是有两个环境，然后环境之间所用的资源配置不同</p> <p><img src="/assets/img/image-20201114202643905.e724242a.png" alt="image-20201114202643905"></p> <p>我们可以通过以下命令，给我们的节点新增标签，然后节点选择器就会进行调度了</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl label node node1 <span class="token assign-left variable">env_role</span><span class="token operator">=</span>prod
<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl label node k8s-node1 env_role=prod</span>
node/k8s-node1 labeled

<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl get nodes k8s-node1 --show-labels</span>
NAME        STATUS   ROLES    AGE     VERSION   LABELS
k8s-node1   Ready    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>   7h55m   v1.18.0   beta.kubernetes.io/arch<span class="token operator">=</span>amd64,beta.kubernetes.io/os<span class="token operator">=</span>linux,env_role<span class="token operator">=</span>prod,kubernetes.io/arch<span class="token operator">=</span>amd64,kubernetes.io/hostname<span class="token operator">=</span>k8s-node1,kubernetes.io/os<span class="token operator">=</span>linux

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="节点亲和性"><a href="#节点亲和性" class="header-anchor">#</a> 节点亲和性</h4> <p>节点亲和性 <strong>nodeAffinity</strong> 和 之前nodeSelector 基本一样的，根据节点上标签约束来决定Pod调度到哪些节点上</p> <ul><li>硬亲和性：约束条件必须满足</li> <li>软亲和性：尝试满足，不保证</li></ul> <p><img src="/assets/img/image-20201114203433939.038648e0.png" alt="image-20201114203433939"></p> <p>支持常用操作符：in、NotIn、Exists、Gt、Lt、DoesNotExists</p> <p>反亲和性：就是和亲和性刚刚相反，如 NotIn、DoesNotExists等</p> <h2 id="_5-8-污点和污点容忍"><a href="#_5-8-污点和污点容忍" class="header-anchor">#</a> 5.8 污点和污点容忍</h2> <h3 id="_5-8-1-概述"><a href="#_5-8-1-概述" class="header-anchor">#</a> 5.8.1 概述</h3> <p>nodeSelector 和 NodeAffinity，都是Prod调度到某些节点上，属于Pod的属性，是在调度的时候实现的。</p> <p>Taint 污点：节点不做普通分配调度，是节点属性</p> <h3 id="_5-8-2-场景"><a href="#_5-8-2-场景" class="header-anchor">#</a> 5.8.2 场景</h3> <ul><li>专用节点【限制ip】</li> <li>配置特定硬件的节点【固态硬盘】</li> <li>基于Taint驱逐【在node1不放，在node2放】</li></ul> <h3 id="_5-8-3-查看污点情况"><a href="#_5-8-3-查看污点情况" class="header-anchor">#</a> 5.8.3 查看污点情况</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl describe node k8smaster <span class="token operator">|</span> <span class="token function">grep</span> Taint

<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl describe node k8smaster | grep Taint</span>
Taints:             node-role.kubernetes.io/master:NoSchedule
<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl describe node k8s-node1 | grep Taint</span>
Taints:             <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl describe node k8s-node2 | grep Taint</span>
Taints:             <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20201114204124819"></p> <p>污点值有三个</p> <ul><li>NoSchedule：一定不被调度</li> <li>PreferNoSchedule：尽量不被调度【也有被调度的几率】</li> <li>NoExecute：不会调度，并且还会驱逐Node已有Pod</li></ul> <h3 id="_5-8-4-未节点添加污点"><a href="#_5-8-4-未节点添加污点" class="header-anchor">#</a> 5.8.4 未节点添加污点</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl taint node <span class="token punctuation">[</span>node<span class="token punctuation">]</span> <span class="token assign-left variable">key</span><span class="token operator">=</span>value:污点的三个值
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>举例：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl taint node k8s-node1 <span class="token assign-left variable">env_role</span><span class="token operator">=</span>yes:NoSchedule

<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl taint node k8s-node1 env_role=yes:NoSchedule</span>
node/k8s-node1 tainted
<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl describe node k8s-node1 | grep Taint</span>
Taints:             <span class="token assign-left variable">env_role</span><span class="token operator">=</span>yes:NoSchedule

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_5-8-5-删除污点"><a href="#_5-8-5-删除污点" class="header-anchor">#</a> 5.8.5 删除污点</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl taint node k8s-node1 env_role:NoSchedule-

<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl taint node k8s-node1 env_role:NoSchedule-</span>
node/k8s-node1 untainted
<span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl describe node k8s-node1 | grep Taint</span>
Taints:             <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="/assets/img/image-20201114210022883.c9660c03.png" alt="image-20201114210022883"></p> <h3 id="_5-8-6-演示"><a href="#_5-8-6-演示" class="header-anchor">#</a> 5.8.6 演示</h3> <p>我们现在创建多个Pod，查看最后分配到Node上的情况</p> <p>首先我们创建一个 nginx 的pod</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl create deployment web --image<span class="token operator">=</span>nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后使用命令查看</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl get pods -o wide
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@k8smaster ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods -o wide</span>
NAME                    READY   STATUS    RESTARTS   AGE   IP           NODE        NOMINATED NODE   READINESS GATES
nginx-f89759699-xffhv   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          8h    <span class="token number">10.244</span>.1.3   k8s-node1   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
web-5dcb957ccc-7d42p    <span class="token number">1</span>/1     Running   <span class="token number">0</span>          22s   <span class="token number">10.244</span>.2.3   k8s-node2   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20201114204917548"></p> <p>我们可以非常明显的看到，这个Pod已经被分配到 k8s-node1 节点上了</p> <p>下面我们把pod复制5份，在查看情况pod情况</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl scale deployment web --replicas<span class="token operator">=</span><span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以发现，因为master节点存在污点的情况，所以节点都被分配到了 node1 和 node2节点上</p> <p><img src="/assets/img/image-20201114205135282.95da9c46.png" alt="image-20201114205135282"></p> <p>我们可以使用下面命令，把刚刚我们创建的pod都删除</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl delete deployment web
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>现在给了更好的演示污点的用法，我们现在给 node1节点打上污点</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl taint node k8s-node1 <span class="token assign-left variable">env_role</span><span class="token operator">=</span>yes:NoSchedule
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后我们查看污点是否成功添加</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl describe node k8s-node1 <span class="token operator">|</span> <span class="token function">grep</span> Taint
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20201114205516154"></p> <p>然后我们在创建一个 pod</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 创建nginx pod</span>
kubectl create deployment web --image<span class="token operator">=</span>nginx
<span class="token comment"># 复制五次</span>
kubectl scale deployment web --replicas<span class="token operator">=</span><span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>然后我们在进行查看</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl get pods -o wide
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们能够看到现在所有的pod都被分配到了 k8snode2上，因为刚刚我们给node1节点设置了污点</p> <p><img src="/assets/img/image-20201114205654867.ca682814.png" alt="image-20201114205654867"></p> <p>最后我们可以删除刚刚添加的污点</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kubectl taint node k8s-node1 env_role:NoSchedule-
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_5-8-7-污点容忍"><a href="#_5-8-7-污点容忍" class="header-anchor">#</a> 5.8.7 污点容忍</h3> <p>污点容忍就是某个节点可能被调度，也可能不被调度</p> <p><img src="/assets/img/image-20201114210146123.1bdf7892.png" alt="image-20201114210146123"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/middleware/kubernetes/K8s集群YAML文件详解-3.html" class="prev">
        4. K8s集群YAML文件详解
      </a></span> <span class="next"><a href="/middleware/kubernetes/K8s核心技术Controller-5.html">
        6. K8s核心技术Controller
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a269e6e3.js" defer></script><script src="/assets/js/2.99bf64c9.js" defer></script><script src="/assets/js/6.ae267412.js" defer></script>
  </body>
</html>
