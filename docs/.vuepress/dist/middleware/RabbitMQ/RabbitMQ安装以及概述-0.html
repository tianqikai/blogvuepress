<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. RabbitMQ安装以及概述 | TQK的个人博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/images/logo.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="TQK的个人博客">
    <meta name="author" content="冰岛红茶">
    <meta name="keywords" content="个人博客 ，java ，后端">
    
    <link rel="preload" href="/assets/css/0.styles.1404a2ef.css" as="style"><link rel="preload" href="/assets/js/app.64222b98.js" as="script"><link rel="preload" href="/assets/js/2.9126741a.js" as="script"><link rel="preload" href="/assets/js/35.e47d2e2c.js" as="script"><link rel="prefetch" href="/assets/js/10.3398a32f.js"><link rel="prefetch" href="/assets/js/100.26e7a7e6.js"><link rel="prefetch" href="/assets/js/101.15ca05a4.js"><link rel="prefetch" href="/assets/js/102.cafdb6b3.js"><link rel="prefetch" href="/assets/js/103.3f4c0b13.js"><link rel="prefetch" href="/assets/js/104.84aed880.js"><link rel="prefetch" href="/assets/js/105.5ac4fcac.js"><link rel="prefetch" href="/assets/js/106.02333598.js"><link rel="prefetch" href="/assets/js/107.ffe42326.js"><link rel="prefetch" href="/assets/js/108.935cfb0f.js"><link rel="prefetch" href="/assets/js/109.16998833.js"><link rel="prefetch" href="/assets/js/11.369cb973.js"><link rel="prefetch" href="/assets/js/110.1513ed48.js"><link rel="prefetch" href="/assets/js/111.511e804a.js"><link rel="prefetch" href="/assets/js/112.5a64144a.js"><link rel="prefetch" href="/assets/js/113.a8157369.js"><link rel="prefetch" href="/assets/js/114.0c53221f.js"><link rel="prefetch" href="/assets/js/115.025b442b.js"><link rel="prefetch" href="/assets/js/116.691edf30.js"><link rel="prefetch" href="/assets/js/117.4b796c9d.js"><link rel="prefetch" href="/assets/js/118.0b777242.js"><link rel="prefetch" href="/assets/js/119.a79ce5b1.js"><link rel="prefetch" href="/assets/js/12.178f0bce.js"><link rel="prefetch" href="/assets/js/120.77533bd6.js"><link rel="prefetch" href="/assets/js/121.5693a575.js"><link rel="prefetch" href="/assets/js/122.e9bb3fa3.js"><link rel="prefetch" href="/assets/js/123.6f7d087a.js"><link rel="prefetch" href="/assets/js/124.996d1664.js"><link rel="prefetch" href="/assets/js/125.2f499e09.js"><link rel="prefetch" href="/assets/js/126.19e0e61a.js"><link rel="prefetch" href="/assets/js/127.22bfdfa3.js"><link rel="prefetch" href="/assets/js/128.302d4ea0.js"><link rel="prefetch" href="/assets/js/129.1727408d.js"><link rel="prefetch" href="/assets/js/13.8e02fa91.js"><link rel="prefetch" href="/assets/js/130.afc495b5.js"><link rel="prefetch" href="/assets/js/131.36fcf001.js"><link rel="prefetch" href="/assets/js/132.518ea4ef.js"><link rel="prefetch" href="/assets/js/133.db536035.js"><link rel="prefetch" href="/assets/js/134.91087935.js"><link rel="prefetch" href="/assets/js/135.b652ecf2.js"><link rel="prefetch" href="/assets/js/136.a81bd441.js"><link rel="prefetch" href="/assets/js/137.ee839299.js"><link rel="prefetch" href="/assets/js/138.1021a746.js"><link rel="prefetch" href="/assets/js/139.ac1ada82.js"><link rel="prefetch" href="/assets/js/14.f2c178b8.js"><link rel="prefetch" href="/assets/js/140.ccdf2b0e.js"><link rel="prefetch" href="/assets/js/141.51abf6e8.js"><link rel="prefetch" href="/assets/js/142.e9d883a6.js"><link rel="prefetch" href="/assets/js/143.86ba1d0e.js"><link rel="prefetch" href="/assets/js/144.cd5e26c4.js"><link rel="prefetch" href="/assets/js/145.8cd5f448.js"><link rel="prefetch" href="/assets/js/146.19701472.js"><link rel="prefetch" href="/assets/js/147.b14496e0.js"><link rel="prefetch" href="/assets/js/148.e16edba3.js"><link rel="prefetch" href="/assets/js/149.0a9550b5.js"><link rel="prefetch" href="/assets/js/15.140b5e24.js"><link rel="prefetch" href="/assets/js/150.7993827c.js"><link rel="prefetch" href="/assets/js/151.95b8f1ca.js"><link rel="prefetch" href="/assets/js/152.3504bf8d.js"><link rel="prefetch" href="/assets/js/153.c780cb50.js"><link rel="prefetch" href="/assets/js/154.7ff415ed.js"><link rel="prefetch" href="/assets/js/155.fdaa1484.js"><link rel="prefetch" href="/assets/js/156.1be912a1.js"><link rel="prefetch" href="/assets/js/157.35c580aa.js"><link rel="prefetch" href="/assets/js/158.b40d5475.js"><link rel="prefetch" href="/assets/js/159.e196a11e.js"><link rel="prefetch" href="/assets/js/16.a9f58713.js"><link rel="prefetch" href="/assets/js/160.b0a4affb.js"><link rel="prefetch" href="/assets/js/161.d5053410.js"><link rel="prefetch" href="/assets/js/162.5169da0d.js"><link rel="prefetch" href="/assets/js/163.62fbb4ce.js"><link rel="prefetch" href="/assets/js/164.4d3ad793.js"><link rel="prefetch" href="/assets/js/165.b7097a49.js"><link rel="prefetch" href="/assets/js/166.83099dfd.js"><link rel="prefetch" href="/assets/js/167.617e6edf.js"><link rel="prefetch" href="/assets/js/168.5159be6c.js"><link rel="prefetch" href="/assets/js/169.bbb898f4.js"><link rel="prefetch" href="/assets/js/17.4fb689d5.js"><link rel="prefetch" href="/assets/js/170.1c8d58ce.js"><link rel="prefetch" href="/assets/js/171.cf1ac444.js"><link rel="prefetch" href="/assets/js/172.1ee39a21.js"><link rel="prefetch" href="/assets/js/173.475f5783.js"><link rel="prefetch" href="/assets/js/174.41e2d702.js"><link rel="prefetch" href="/assets/js/175.16e28b89.js"><link rel="prefetch" href="/assets/js/176.b16bbf95.js"><link rel="prefetch" href="/assets/js/177.89f708aa.js"><link rel="prefetch" href="/assets/js/178.cd9c6269.js"><link rel="prefetch" href="/assets/js/179.f2138f5e.js"><link rel="prefetch" href="/assets/js/18.ea7a4b69.js"><link rel="prefetch" href="/assets/js/180.4e9ffc95.js"><link rel="prefetch" href="/assets/js/181.b94d411f.js"><link rel="prefetch" href="/assets/js/182.462ce09d.js"><link rel="prefetch" href="/assets/js/183.af6b7120.js"><link rel="prefetch" href="/assets/js/184.dee8b9f3.js"><link rel="prefetch" href="/assets/js/185.5f2c542d.js"><link rel="prefetch" href="/assets/js/186.3fdc4d91.js"><link rel="prefetch" href="/assets/js/187.c1fb479f.js"><link rel="prefetch" href="/assets/js/19.401dcce3.js"><link rel="prefetch" href="/assets/js/20.c8578680.js"><link rel="prefetch" href="/assets/js/21.c89a3cc8.js"><link rel="prefetch" href="/assets/js/22.fa804783.js"><link rel="prefetch" href="/assets/js/23.c4f523de.js"><link rel="prefetch" href="/assets/js/24.360e5c21.js"><link rel="prefetch" href="/assets/js/25.f07c7eff.js"><link rel="prefetch" href="/assets/js/26.c789362c.js"><link rel="prefetch" href="/assets/js/27.ee1fc1b8.js"><link rel="prefetch" href="/assets/js/28.10b3831e.js"><link rel="prefetch" href="/assets/js/29.998dcbdf.js"><link rel="prefetch" href="/assets/js/3.5dd39d0e.js"><link rel="prefetch" href="/assets/js/30.555e1f8f.js"><link rel="prefetch" href="/assets/js/31.e05d068b.js"><link rel="prefetch" href="/assets/js/32.8b9dad78.js"><link rel="prefetch" href="/assets/js/33.10ba59e8.js"><link rel="prefetch" href="/assets/js/34.95b31f94.js"><link rel="prefetch" href="/assets/js/36.b517c302.js"><link rel="prefetch" href="/assets/js/37.9b3864a5.js"><link rel="prefetch" href="/assets/js/38.589bad8d.js"><link rel="prefetch" href="/assets/js/39.ef7c5a49.js"><link rel="prefetch" href="/assets/js/4.fb3f0c3e.js"><link rel="prefetch" href="/assets/js/40.217c7ac0.js"><link rel="prefetch" href="/assets/js/41.ebeba184.js"><link rel="prefetch" href="/assets/js/42.fab05906.js"><link rel="prefetch" href="/assets/js/43.6d9a10c3.js"><link rel="prefetch" href="/assets/js/44.711c7275.js"><link rel="prefetch" href="/assets/js/45.8d0df662.js"><link rel="prefetch" href="/assets/js/46.8089118e.js"><link rel="prefetch" href="/assets/js/47.3f4438de.js"><link rel="prefetch" href="/assets/js/48.78b4bd0c.js"><link rel="prefetch" href="/assets/js/49.8ae298c2.js"><link rel="prefetch" href="/assets/js/5.e70b893b.js"><link rel="prefetch" href="/assets/js/50.3f51ac47.js"><link rel="prefetch" href="/assets/js/51.9e1a69bb.js"><link rel="prefetch" href="/assets/js/52.c90760bc.js"><link rel="prefetch" href="/assets/js/53.74ad5d3e.js"><link rel="prefetch" href="/assets/js/54.ecf5e016.js"><link rel="prefetch" href="/assets/js/55.b2047f36.js"><link rel="prefetch" href="/assets/js/56.44e4093f.js"><link rel="prefetch" href="/assets/js/57.f65aa554.js"><link rel="prefetch" href="/assets/js/58.bcb3aa90.js"><link rel="prefetch" href="/assets/js/59.629afa70.js"><link rel="prefetch" href="/assets/js/6.091843e2.js"><link rel="prefetch" href="/assets/js/60.1a0bf1e2.js"><link rel="prefetch" href="/assets/js/61.e3b69e89.js"><link rel="prefetch" href="/assets/js/62.37350257.js"><link rel="prefetch" href="/assets/js/63.d3fe1855.js"><link rel="prefetch" href="/assets/js/64.c4a9b352.js"><link rel="prefetch" href="/assets/js/65.4d74d951.js"><link rel="prefetch" href="/assets/js/66.0eadcd6b.js"><link rel="prefetch" href="/assets/js/67.c947ee1f.js"><link rel="prefetch" href="/assets/js/68.ec32f392.js"><link rel="prefetch" href="/assets/js/69.5487bed2.js"><link rel="prefetch" href="/assets/js/7.af1b777c.js"><link rel="prefetch" href="/assets/js/70.db9a9002.js"><link rel="prefetch" href="/assets/js/71.778111d3.js"><link rel="prefetch" href="/assets/js/72.e6eedfc0.js"><link rel="prefetch" href="/assets/js/73.7a95d8ae.js"><link rel="prefetch" href="/assets/js/74.c68e588f.js"><link rel="prefetch" href="/assets/js/75.570c0ba6.js"><link rel="prefetch" href="/assets/js/76.acf1426f.js"><link rel="prefetch" href="/assets/js/77.c20077a6.js"><link rel="prefetch" href="/assets/js/78.46f9c088.js"><link rel="prefetch" href="/assets/js/79.c117a1e9.js"><link rel="prefetch" href="/assets/js/8.acf8bfee.js"><link rel="prefetch" href="/assets/js/80.99d44ab3.js"><link rel="prefetch" href="/assets/js/81.218598cc.js"><link rel="prefetch" href="/assets/js/82.97df9a35.js"><link rel="prefetch" href="/assets/js/83.7820cace.js"><link rel="prefetch" href="/assets/js/84.55523320.js"><link rel="prefetch" href="/assets/js/85.c2fe7339.js"><link rel="prefetch" href="/assets/js/86.b63dac33.js"><link rel="prefetch" href="/assets/js/87.144ca545.js"><link rel="prefetch" href="/assets/js/88.b86ebb1f.js"><link rel="prefetch" href="/assets/js/89.827b926e.js"><link rel="prefetch" href="/assets/js/9.43d53dfb.js"><link rel="prefetch" href="/assets/js/90.6bbf6a8a.js"><link rel="prefetch" href="/assets/js/91.b8cfa8b8.js"><link rel="prefetch" href="/assets/js/92.8c0de09a.js"><link rel="prefetch" href="/assets/js/93.8351852a.js"><link rel="prefetch" href="/assets/js/94.419bd4ab.js"><link rel="prefetch" href="/assets/js/95.1e59c5c3.js"><link rel="prefetch" href="/assets/js/96.d44fd4c4.js"><link rel="prefetch" href="/assets/js/97.132867bb.js"><link rel="prefetch" href="/assets/js/98.ad244f99.js"><link rel="prefetch" href="/assets/js/99.05f31a08.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1404a2ef.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="TQK的个人博客" class="logo"> <span class="site-name can-hide">TQK的个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="入门基础" class="dropdown-title"><span class="title">入门基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="入门基础" class="mobile-dropdown-title"><span class="title">入门基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/java/" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/base/seniorJava/" class="nav-link">
  Java基础(高级)
</a></li><li class="dropdown-item"><!----> <a href="/base/data-structure/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/base/design-pattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/JVM/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/base/es6/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/base/shell/" class="nav-link">
  Shell脚本
</a></li><li class="dropdown-item"><!----> <a href="/base/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/base/c/" class="nav-link">
  C语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/db/mongdb/" class="nav-link">
  Mongdb
</a></li><li class="dropdown-item"><!----> <a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-item"><!----> <a href="/db/db2/" class="nav-link">
  DB2
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><span class="title">常用框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用框架" class="mobile-dropdown-title"><span class="title">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  Springboot
</a></li><li class="dropdown-item"><!----> <a href="/framework/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/framework/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/framework/SpringCloud/" class="nav-link">
  SpringCloud-Alibaba
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/netty/" class="nav-link">
  netty
</a></li><li class="dropdown-item"><!----> <a href="/middleware/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/middleware/gateway/" class="nav-link">
  gateway
</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">
  zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middleware/zuul/" class="nav-link">
  zuul
</a></li><li class="dropdown-item"><!----> <a href="/middleware/nocas/" class="nav-link">
  nocas
</a></li><li class="dropdown-item"><!----> <a href="/middleware/seata/" class="nav-link">
  seata
</a></li><li class="dropdown-item"><!----> <a href="/middleware/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/middleware/kubernetes/" class="nav-link">
  kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/middleware/Elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/RabbitMQ/" class="nav-link router-link-active">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/middleware/kafka/" class="nav-link">
  kafka
</a></li><li class="dropdown-subitem"><a href="/middleware/ActiveMQ/" class="nav-link">
  ActiveMQ
</a></li><li class="dropdown-subitem"><a href="/middleware/RocketMQ/" class="nav-link">
  RocketMQ
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/alibaba/" class="nav-link">
  阿里巴巴Java开发手册
</a></li><li class="dropdown-item"><!----> <a href="/other/english/" class="nav-link">
  编程英语
</a></li><li class="dropdown-item"><!----> <a href="/other/idea/" class="nav-link">
  IDEA快捷键
</a></li><li class="dropdown-item"><!----> <a href="/other/url/" class="nav-link">
  常用网站
</a></li><li class="dropdown-item"><!----> <a href="/other/jdk/" class="nav-link">
  Liunx安装jdk
</a></li><li class="dropdown-item"><!----> <a href="/other/jiqun/" class="nav-link">
  Liunx集群
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/tool/jemeter/" class="nav-link">
  jemeter
</a></li><li class="dropdown-item"><!----> <a href="/tool/postman/" class="nav-link">
  postman
</a></li><li class="dropdown-item"><!----> <a href="/tool/PowerDesigner/" class="nav-link">
  PowerDesigner
</a></li><li class="dropdown-item"><!----> <a href="/tool/Jenkins/" class="nav-link">
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/tool/Nodejs/" class="nav-link">
  Nodejs
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zeroonbush/blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="入门基础" class="dropdown-title"><span class="title">入门基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="入门基础" class="mobile-dropdown-title"><span class="title">入门基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/java/" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/base/seniorJava/" class="nav-link">
  Java基础(高级)
</a></li><li class="dropdown-item"><!----> <a href="/base/data-structure/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/base/design-pattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/JVM/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/base/es6/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/base/shell/" class="nav-link">
  Shell脚本
</a></li><li class="dropdown-item"><!----> <a href="/base/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/base/c/" class="nav-link">
  C语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/db/mongdb/" class="nav-link">
  Mongdb
</a></li><li class="dropdown-item"><!----> <a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-item"><!----> <a href="/db/db2/" class="nav-link">
  DB2
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><span class="title">常用框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用框架" class="mobile-dropdown-title"><span class="title">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  Springboot
</a></li><li class="dropdown-item"><!----> <a href="/framework/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/framework/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/framework/SpringCloud/" class="nav-link">
  SpringCloud-Alibaba
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/netty/" class="nav-link">
  netty
</a></li><li class="dropdown-item"><!----> <a href="/middleware/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/middleware/gateway/" class="nav-link">
  gateway
</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">
  zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middleware/zuul/" class="nav-link">
  zuul
</a></li><li class="dropdown-item"><!----> <a href="/middleware/nocas/" class="nav-link">
  nocas
</a></li><li class="dropdown-item"><!----> <a href="/middleware/seata/" class="nav-link">
  seata
</a></li><li class="dropdown-item"><!----> <a href="/middleware/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/middleware/kubernetes/" class="nav-link">
  kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/middleware/Elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/RabbitMQ/" class="nav-link router-link-active">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/middleware/kafka/" class="nav-link">
  kafka
</a></li><li class="dropdown-subitem"><a href="/middleware/ActiveMQ/" class="nav-link">
  ActiveMQ
</a></li><li class="dropdown-subitem"><a href="/middleware/RocketMQ/" class="nav-link">
  RocketMQ
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/alibaba/" class="nav-link">
  阿里巴巴Java开发手册
</a></li><li class="dropdown-item"><!----> <a href="/other/english/" class="nav-link">
  编程英语
</a></li><li class="dropdown-item"><!----> <a href="/other/idea/" class="nav-link">
  IDEA快捷键
</a></li><li class="dropdown-item"><!----> <a href="/other/url/" class="nav-link">
  常用网站
</a></li><li class="dropdown-item"><!----> <a href="/other/jdk/" class="nav-link">
  Liunx安装jdk
</a></li><li class="dropdown-item"><!----> <a href="/other/jiqun/" class="nav-link">
  Liunx集群
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/tool/jemeter/" class="nav-link">
  jemeter
</a></li><li class="dropdown-item"><!----> <a href="/tool/postman/" class="nav-link">
  postman
</a></li><li class="dropdown-item"><!----> <a href="/tool/PowerDesigner/" class="nav-link">
  PowerDesigner
</a></li><li class="dropdown-item"><!----> <a href="/tool/Jenkins/" class="nav-link">
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/tool/Nodejs/" class="nav-link">
  Nodejs
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zeroonbush/blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Rabbit MQ</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/middleware/RabbitMQ/" aria-current="page" class="sidebar-link">RabbitMQ</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html" class="active sidebar-link">1. RabbitMQ安装以及概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-1-rabbitmq安装" class="sidebar-link">1.1 RabbitMQ安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-1-1-安装erlang" class="sidebar-link">1.1.1 安装erlang</a></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-1-2-安装rabbitmq" class="sidebar-link">1.1.2 安装RabbitMQ</a></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-1-3-启动命令" class="sidebar-link">1.1.3 启动命令</a></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-1-4-web管理" class="sidebar-link">1.1.4 WEB管理</a></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-1-5-登陆" class="sidebar-link">1.1.5 登陆</a></li></ul></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-2-amqp-概论" class="sidebar-link">1.2 AMQP 概论</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-2-1-客户端与rabbitmq连接" class="sidebar-link">1.2.1 客户端与RabbitMQ连接</a></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-2-2-rabbitmq-中使用-amqp" class="sidebar-link">1.2.2 RabbitMQ 中使用 AMQP</a></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-2-3-虚拟主机" class="sidebar-link">1.2.3 虚拟主机</a></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-2-4-交换器类型" class="sidebar-link">1.2.4 交换器类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/middleware/RabbitMQ/RabbitMQ安装以及概述-0.html#_1-3-延时插件安装" class="sidebar-link">1.3 延时插件安装</a></li></ul></li><li><a href="/middleware/RabbitMQ/原生java客户端消息通信-1.html" class="sidebar-link">2. 原生 Java 客户端进行消息通信</a></li><li><a href="/middleware/RabbitMQ/消息发布时的权衡-2.html" class="sidebar-link">3. 消息发布时的权衡</a></li><li><a href="/middleware/RabbitMQ/消息消费时的权衡-3.html" class="sidebar-link">4. 消息消费时的权衡</a></li><li><a href="/middleware/RabbitMQ/消息的拒绝-4.html" class="sidebar-link">5. 消息的拒绝</a></li><li><a href="/middleware/RabbitMQ/控制队列-5.html" class="sidebar-link">6. 控制队列</a></li><li><a href="/middleware/RabbitMQ/消息的属性-6.html" class="sidebar-link">7. 消息属性</a></li><li><a href="/middleware/RabbitMQ/SpringBoot整合RabbitMQ-7.html" class="sidebar-link">8. SpringBoot整合RabbitMQ</a></li><li><a href="/middleware/RabbitMQ/延时消息应用-8.html" class="sidebar-link">9. 延时消息</a></li><li><a href="/middleware/RabbitMQ/Rabbit镜像队列集群搭建-9.html" class="sidebar-link">/middleware/RabbitMQ/Rabbit镜像队列集群搭建-9.html</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-rabbitmq安装以及概述"><a href="#_1-rabbitmq安装以及概述" class="header-anchor">#</a> 1. RabbitMQ安装以及概述</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_1-1-rabbitmq安装">1.1 RabbitMQ安装</a><ul><li><a href="#_1-1-1-安装erlang">1.1.1 安装erlang</a></li><li><a href="#_1-1-2-安装rabbitmq">1.1.2 安装RabbitMQ</a></li><li><a href="#_1-1-3-启动命令">1.1.3 启动命令</a></li><li><a href="#_1-1-4-web管理">1.1.4 WEB管理</a></li><li><a href="#_1-1-5-登陆">1.1.5 登陆</a></li></ul></li><li><a href="#_1-2-amqp-概论">1.2 AMQP 概论</a><ul><li><a href="#_1-2-1-客户端与rabbitmq连接">1.2.1 客户端与RabbitMQ连接</a></li><li><a href="#_1-2-2-rabbitmq-中使用-amqp">1.2.2 RabbitMQ 中使用 AMQP</a></li><li><a href="#_1-2-3-虚拟主机">1.2.3 虚拟主机</a></li><li><a href="#_1-2-4-交换器类型">1.2.4 交换器类型</a></li></ul></li><li><a href="#_1-3-延时插件安装">1.3 延时插件安装</a></li></ul></div><p></p> <h2 id="_1-1-rabbitmq安装"><a href="#_1-1-rabbitmq安装" class="header-anchor">#</a> 1.1 RabbitMQ安装</h2> <h3 id="_1-1-1-安装erlang"><a href="#_1-1-1-安装erlang" class="header-anchor">#</a> 1.1.1 安装erlang</h3> <p>由于rabbitmq是基于erlang语言开发的，所以必须先安装erlang。</p> <div class="custom-block tip"><p class="custom-block-title">安装erlang</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装依赖</span>
yum -y <span class="token function">install</span> gcc glibc-devel <span class="token function">make</span> ncurses-devel openssl-devel xmlto perl <span class="token function">wget</span> gtk2-devel binutils-devel
<span class="token comment"># 下载安装包 erlang官网</span>
<span class="token function">wget</span> http://erlang.org/download/otp_src_22.0.tar.gz

<span class="token comment">#解压</span>
<span class="token function">tar</span> -zxvf otp_src_22.0.tar.gz
 
<span class="token comment">#移走</span>
<span class="token function">mv</span> otp_src_22.0 /usr/local/
 
<span class="token comment">#切换目录</span>
<span class="token builtin class-name">cd</span> /usr/local/otp_src_22.0/
 
<span class="token comment">#创建即将安装的目录</span>
<span class="token function">mkdir</span> <span class="token punctuation">..</span>/erlang
 
<span class="token comment">#配置安装路径</span>
./configure --prefix<span class="token operator">=</span>/usr/local/erlang

<span class="token comment">#安装</span>
<span class="token function">make</span> <span class="token function">install</span>

<span class="token comment">#查看一下是否安装成功</span>
ll /usr/local/erlang/bin
 
<span class="token comment">#添加环境变量</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export PATH=<span class="token environment constant">$PATH</span>:/usr/local/erlang/bin'</span> <span class="token operator">&gt;&gt;</span> /etc/profile
 
<span class="token comment">#刷新环境变量</span>
<span class="token builtin class-name">source</span> /etc/profile
 
<span class="token comment">#甩一条命令</span>
erl
在里面输入halt<span class="token punctuation">(</span><span class="token punctuation">)</span>.命令退出来（那个点号别忘记）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></div> <h3 id="_1-1-2-安装rabbitmq"><a href="#_1-1-2-安装rabbitmq" class="header-anchor">#</a> 1.1.2 安装RabbitMQ</h3> <div class="custom-block tip"><p class="custom-block-title">安装步骤</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">##在Linux中安装RabbitMQ演示，以VirtualBox中的虚拟机为操作系统载体</span>
<span class="token comment">##操作系统版本为CentOS7，纯净未安装RabbitMQ</span>
<span class="token function">wget</span> https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.15/rabbitmq-server-generic-unix-3.7.15.tar.xz

<span class="token comment"># 由于是tar.xz格式的所以需要用到xz，没有的话就先安装 ,存在则不需要执行了</span>
yum <span class="token function">install</span> -y xz

<span class="token comment">#第一次解压</span>
/bin/xz -d rabbitmq-server-generic-unix-3.7.15.tar.xz
 
<span class="token comment">#第二次解压</span>
<span class="token function">tar</span> -xvf rabbitmq-server-generic-unix-3.7.15.tar
 
<span class="token comment">#移走</span>
<span class="token function">mv</span> rabbitmq_server-3.7.15 /usr/local/
 

<span class="token comment">#改名</span>
<span class="token function">mv</span> /usr/local/rabbitmq_server-3.7.15  rabbitmq
 
<span class="token comment">#配置环境变量</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export PATH=<span class="token environment constant">$PATH</span>:/usr/local/rabbitmq/sbin'</span> <span class="token operator">&gt;&gt;</span> /etc/profile
 
<span class="token comment">#刷新环境变量</span>
<span class="token builtin class-name">source</span> /etc/profile

<span class="token comment">#创建配置目录</span>
<span class="token function">mkdir</span> /etc/rabbitmq
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></div> <h3 id="_1-1-3-启动命令"><a href="#_1-1-3-启动命令" class="header-anchor">#</a> 1.1.3 启动命令</h3> <div class="custom-block tip"><p class="custom-block-title">启动命令</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## 切换到启动命令目录</span>
<span class="token builtin class-name">cd</span> /usr/local/rabbitmq/sbin

<span class="token comment">#启动：</span>
rabbitmq-server -detached
 
<span class="token comment">#停止：</span>
rabbitmqctl stop
 

<span class="token comment">#状态：</span>
rabbitmqctl status
<span class="token comment">#防火墙之类的请自行处理（5672和15672端口），反正我是从来不开防火墙</span>

<span class="token comment">#开启相对应的端口</span>
firewall-cmd --permanent --add-port<span class="token operator">=</span><span class="token number">15672</span>/tcp
firewall-cmd --permanent --add-port<span class="token operator">=</span><span class="token number">5672</span>/tcp

<span class="token comment">#查看已有虚拟主机并增加名为enjoyedu的虚拟主机</span>
rabbitmqctl list_vhosts
rabbitmqctl add_vhost enjoyedu
rabbitmqctl list_vhosts

Listing vhosts <span class="token punctuation">..</span>.
name
tqkstuday
enjoyedu
/

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></div> <p><a data-fancybox="" title="rabbitmq" href="./image/rabbitmq01.jpg"><img src="/assets/img/rabbitmq01.da070096.jpg" alt="rabbitmq"></a></p> <h3 id="_1-1-4-web管理"><a href="#_1-1-4-web管理" class="header-anchor">#</a> 1.1.4 WEB管理</h3> <div class="custom-block tip"><p class="custom-block-title">WEB管理</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#查看所有用户</span>
rabbitmqctl list_users

<span class="token comment">#添加一个用户</span>

rabbitmqctl add_user tqk001 <span class="token number">12345</span>@tqk

<span class="token comment">#增加名为tqk001的用户并配置administrator角色,增加相应的权限</span>
<span class="token comment">#赋予其administrator角色</span>
rabbitmqctl set_user_tags  tqk001  administrator

<span class="token comment">#配置权限 # 为用户赋权：</span>
rabbitmqctl set_permissions -p <span class="token string">&quot;/&quot;</span> tqk001 <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>
rabbitmqctl set_permissions -p <span class="token string">&quot;enjoyedu&quot;</span> tqk001 <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>
rabbitmqctl set_permissions -p <span class="token string">&quot;tqkstuday&quot;</span> tqk001 <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>

<span class="token comment">#查看用户权限</span>
rabbitmqctl list_user_permissions tqk001
 
<span class="token comment">#删除用户（安全起见，删除默认用户）</span>
rabbitmqctl delete_user guest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></div> <h3 id="_1-1-5-登陆"><a href="#_1-1-5-登陆" class="header-anchor">#</a> 1.1.5 登陆</h3> <p>配置好用户之后重启一下rabbit
然后就可以用新账号进行登陆</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## 切换到启动命令目录</span>
<span class="token builtin class-name">cd</span> /usr/local/rabbitmq/sbin

<span class="token comment">#启动：</span>
rabbitmq-server -detached
 
<span class="token comment">#停止：</span>
rabbitmqctl stop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><a data-fancybox="" title="rabbitmq" href="./image/rabbitmq01.jpg"><img src="/assets/img/rabbitmq01.da070096.jpg" alt="rabbitmq"></a></p> <h2 id="_1-2-amqp-概论"><a href="#_1-2-amqp-概论" class="header-anchor">#</a> 1.2 AMQP 概论</h2> <p>AMQP 是应用层协议的一个开放标准,为面向消息的中间件设计。基于此协议的客户端与消息中间件可传递消息，并不受客户端/中间件不同产品，不同的开发语言等条件的限制。目标是实现一种在全行业广泛使用的标准消息中间件技术，以便降低企业和系统集成的开销，并且向大众提供工业级的集成服务。 主要实现有 RabbitMQ。</p> <h3 id="_1-2-1-客户端与rabbitmq连接"><a href="#_1-2-1-客户端与rabbitmq连接" class="header-anchor">#</a> 1.2.1 客户端与RabbitMQ连接</h3> <h4 id="连接"><a href="#连接" class="header-anchor">#</a> 连接</h4> <p>首先作为客户端（无论是生产者还是消费者），你如果要与 RabbitMQ 通讯的话，你们之间必须创建一条 TCP 连接，当然同时建立连接后，客户端还必须发送一条“问候语”让彼此知道我们都是符合 AMQP 的语言的，比如你跟别人打招呼一般会说“你好！”，你跟国外的美女一般会说“hello!”一样。 你们确认好“语言”之后，就相当于客户端和 RabbitMQ 通过“认证”了。你们之间可以创建一条 AMQP 的信道。</p> <h4 id="信道"><a href="#信道" class="header-anchor">#</a> 信道</h4> <p>概念：信道是生产者/消费者与 RabbitMQ 通信的渠道。信道是建立在 TCP 连接上的虚拟连接，什么意思呢？就是说 rabbitmq 在一条 TCP 上建立成百 上千个信道来达到多个线程处理，这个 TCP 被多个线程共享，每个线程对应一个信道，信道在 RabbitMQ 都有唯一的 ID ,保证了信道私有性，对应上唯一 的线程使用。 疑问：为什么不建立多个 TCP 连接呢？原因是 rabbit 保证性能，系统为每个线程开辟一个 TCP 是非常消耗性能，每秒成百上千的建立销毁 TCP 会严 重消耗系统。所以 rabbitmq 选择建立多个信道（建立在 tcp 的虚拟连接）连接到 rabbit 上。 从技术上讲，这被称之为“<strong>多路复用</strong>”，对于执行多个任务的多线程或者异步应用程序来说，它非常有用。</p> <p><a data-fancybox="" title="rabbitmq" href="./image/rabbitmq02.jpg"><img src="/assets/img/rabbitmq02.1d8daecb.jpg" alt="rabbitmq"></a></p> <h3 id="_1-2-2-rabbitmq-中使用-amqp"><a href="#_1-2-2-rabbitmq-中使用-amqp" class="header-anchor">#</a> 1.2.2 RabbitMQ 中使用 AMQP</h3> <p>RabbitMQ包括的要素 <strong>生产者、消费者、消息</strong> <strong>交换器、队列、绑定、路由键</strong></p> <div class="custom-block tip"><p class="custom-block-title">RabbitMQ要素</p> <p>**生产者:**消息的创建者，发送到 rabbitmq；</p> <p>**消费者：**连接到 rabbitmq，订阅到队列上，消费消息，<strong>持续订阅(basicConsumer)和单条订阅(basicGet)</strong>.</p> <p>**消息：**包含有效载荷和标签，有效载荷指要传输的数据，标签描述了有效载荷，并且 rabbitmq 用它来决定谁获得消息，消费者只能拿到有效载荷， 并不知道生产者是谁</p></div> <p><strong>交换器、队列、绑定、路由键</strong></p> <p><strong>队列</strong>通过<strong>路由键</strong>（routing key，某种确定的规则）绑定到<strong>交换器</strong>，生产者将消息发布到交换器，交换器根据绑定的路由键将消息路由到<strong>特定队列</strong>， 然后由订阅这个队列的消费者进行接收。 （routing_key 和 绑定键 binding_key 的最大长度是 255 个字节）</p> <p><a data-fancybox="" title="rabbitmq" href="./image/rabbitmq03.jpg"><img src="/assets/img/rabbitmq03.bbbf49eb.jpg" alt="rabbitmq"></a></p> <h4 id="消息的确认"><a href="#消息的确认" class="header-anchor">#</a> 消息的确认</h4> <p>消费者收到的每一条消息都必须进行确认（自动确认和自行确认）。</p> <p>消费者在声明队列时，可以指定 autoAck 参数，当 autoAck=false 时，RabbitMQ 会等待消费者显式发回 <strong>ack</strong> 信号后才从内存(和磁盘，如果是持久化消 息的话)中移去消息。否则，RabbitMQ 会在队列中消息被消费后立即删除它。</p> <p>采用消息确认机制后，只要令 <strong>autoAck=false</strong>，消费者就有足够的时间处理消息(任务)，不用担心处理消息过程中消费者进程挂掉后消息丢失的问题， 因为 RabbitMQ 会一直持有消息直到消费者显式调用 basicAck 为止。</p> <p>当 autoAck=false 时，对于 RabbitMQ 服务器端而言，队列中的消息分成了两部分：一部分是等待投递给消费者的消息；一部分是已经投递给消费者， 但是还没有收到消费者 ack 信号的消息。如果服务器端一直没有收到消费者的 ack 信号，并且消费此消息的消费者已经断开连接，则服务器端会安排该消息重新进入队列，等待投递给下一个消费者（也可能还是原来的那个消费者）。</p> <p>RabbitMQ 不会为未 ack 的消息设置超时时间，它判断此消息是否需要重新投递给消费者的唯一依据是消费该消息的消费者连接是否已经断开。这么设计的原因是 RabbitMQ 允许消费者消费一条消息的时间可以很久很久</p> <h4 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h4> <p><strong>如果消息达到无人订阅的队列会怎么办？</strong><br>
消息会一直在队列中等待，RabbitMq 默认队列是无限长度的。
<strong>多个消费者订阅到同一队列怎么办？</strong></p> <p>消息以循环的方式发送给消费者，每个消息只会发送给一个消费者。</p> <p><strong>消息路由到了不存在的队列怎么办？</strong>
一般情况下，RabbitMq 会忽略，当这个消息不存在，也就是这消息丢了。</p> <h3 id="_1-2-3-虚拟主机"><a href="#_1-2-3-虚拟主机" class="header-anchor">#</a> 1.2.3 虚拟主机</h3> <p><strong>虚拟消息服务器</strong>，vhost，本质上就是一个 mini 版的 mq 服务器，有<strong>自己的队列、交换器和绑定</strong>，最重要的，自己的权限机制。Vhost 提供了逻辑上的分离，可以将众多客户端进行区分，
又可以避免队列和交换器的命名冲突。Vhost 必须在连接时指定，<strong>rabbitmq 包含缺省 vhost：“/”，通过缺省用户和口令 guest 进行访问</strong>。</p> <p>rabbitmq 里创建用户，必须要被指派给至少一个 vhost，并且只能访问被指派内的队列、交换器和绑定。Vhost 必须通过 rabbitmq 的管理控制工具创建。
<a data-fancybox="" title="rabbitmq" href="./image/rabbitmq04.jpg"><img src="/assets/img/rabbitmq04.c3010f4f.jpg" alt="rabbitmq"></a></p> <h3 id="_1-2-4-交换器类型"><a href="#_1-2-4-交换器类型" class="header-anchor">#</a> 1.2.4 交换器类型</h3> <p>共有四种<strong>direct,fanout,topic,headers</strong>，其种 headers(几乎和 direct 一样)不实用，可以忽略</p> <h4 id="direct"><a href="#direct" class="header-anchor">#</a> Direct</h4> <p>路由键完全匹配，消息被投递到对应的队列， direct 交换器是默认交换器。声明一个队列时，会自动绑定到默认交换器，并且以队列名称作为路由 键：channel-&gt;basic_public($msg,’’,’queue-name’)
<a data-fancybox="" title="rabbitmq" href="./image/rabbitmq05.jpg"><img src="/assets/img/rabbitmq05.f1888ba3.jpg" alt="rabbitmq"></a></p> <h4 id="fanout"><a href="#fanout" class="header-anchor">#</a> Fanout</h4> <p>消息广播到绑定的队列，不管队列绑定了什么路由键，消息经过交换器，每个队列都有一份。
<a data-fancybox="" title="rabbitmq" href="./image/rabbitmq06.jpg"><img src="/assets/img/rabbitmq06.0d84c7f3.jpg" alt="rabbitmq"></a></p> <h4 id="topic"><a href="#topic" class="header-anchor">#</a> Topic</h4> <p><strong>通过使用&quot;<em>&quot;和&quot;#&quot;通配符进行处理，使来自不同源头的消息到达同一个队列，&quot;.&quot;将路由键分为了几个标识符，&quot;</em>&quot;匹配 1 个，&quot;#&quot;匹配一个 或多个</strong> <a data-fancybox="" title="rabbitmq" href="./image/rabbitmq07.jpg"><img src="/assets/img/rabbitmq07.fb3b5150.jpg" alt="rabbitmq"></a></p> <h2 id="_1-3-延时插件安装"><a href="#_1-3-延时插件安装" class="header-anchor">#</a> 1.3 延时插件安装</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#下载延时插件:</span>
https://github.com/rabbitmq/rabbitmq-delayed-message-exchange/releases/tag/v3.8.0

<span class="token builtin class-name">cd</span> /usr/local/rabbitmq/plugins

<span class="token comment">#上传插件: </span>
rz rabbitmq_delayed_message_exchange-3.8.0.ez

<span class="token comment">#启动延时插件: </span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_delayed_message_exchange
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/middleware/RabbitMQ/" class="prev router-link-active">
        RabbitMQ
      </a></span> <span class="next"><a href="/middleware/RabbitMQ/原生java客户端消息通信-1.html">
        2. 原生 Java 客户端进行消息通信
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.64222b98.js" defer></script><script src="/assets/js/2.9126741a.js" defer></script><script src="/assets/js/35.e47d2e2c.js" defer></script>
  </body>
</html>
